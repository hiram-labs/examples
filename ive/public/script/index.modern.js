var e;!function(e){e.HOST_TYPE_INTERNAL="INTERNAL",e.HOST_TYPE_EXTERNAL="EXTERNAL",e.ORM_CONFIGS="CONFIGS",e.ORM_RUNNERS="RUNNERS",e.ORM_SESSIONS="SESSIONS",e.CC_OFF="None",e.EVENT_ENGINE_READY="ive-ready",e.EVENT_ENGINE_ATTACH_VIDEO_SRC="ive-attach-video-src",e.EVENT_ENGINE_ATTACH_AUDIO_SRC="ive-attach-audio-src",e.EVENT_ENGINE_EXPERIENCE_LOADING="ive-experience-loading",e.EVENT_ENGINE_TIMEUPDATE="ive-time-update",e.EVENT_ENGINE_VISUAL_INTERACTION="ive-visual-interaction",e.EVENT_ENGINE_VISUAL_PRESENTED_TIMEUPDATE="ive-visual-presented",e.RUNNER_TYPE_IMMEDIATE="IMMEDIATE",e.RUNNER_TYPE_TIMER="TIMER",e.RUNNER_TYPE_INTERACTION="INTERACTION",e.RUNNER_STATE_BUSY="busy",e.RUNNER_STATE_IDLE="idle",e.CSS_VIDEO_ELEMENT="ive-video-element",e.CSS_AUDIO_ELEMENT="ive-audio-element",e.CSS_ENGINE_CONTAINER="ive-engine-container",e.CSS_VISUAL_CONTAINER="ive-visual-container",e.CSS_CONTROL_CONTAINER="ive-control-container",e.CSS_LOADER_CONTAINER="ive-loader-container",e.CSS_LOADER_VIDEO_LOAD_PROGRESS_GROUP="ive-loader-video-load-progress-group",e.CSS_LOADER_ENGINE_BUSY_GROUP="ive-loader-engine-busy-group",e.CSS_LOADER_WELCOME_GROUP="ive-loader-welcome-group",e.CSS_LOADER_NETWORK_ERROR_GROUP="ive-loader-network-error-group",e.CSS_LOADER_VIDEO_CAPTION_CONTAINER="ive-loader-video-caption-container",e.CSS_LOADER_AUDIO_CAPTION_CONTAINER="ive-loader-audion-caption-container",e.CSS_LOADER_RESUME_PLAY_BTN="ive-loader-resume-play-container",e.CSS_CONTROL_PROGRESS_TIME_GROUP="ive-control-progress-time-group",e.CSS_CONTROL_PROGRESS_BAR="ive-control-progress-bar-group",e.CSS_CONTROL_TIME_PER_DURATION="ive-control-time-per-duration",e.CSS_CONTROL_CTA_GROUP="ive-control-cta-group",e.CSS_CONTROL_PREVIOUS_BTN="ive-control-previous-btn",e.CSS_CONTROL_PLAY_PAUSE_BTN="ive-control-play-pause-btn",e.CSS_CONTROL_NEXT_BTN="ive-control-next-btn",e.CSS_CONTROL_REWIND_15SEC_BTN="ive-control-rewind-15sec-btn",e.CSS_CONTROL_FORWARD_15SEC_BTN="ive-control-forward-15sec-btn",e.CSS_CONTROL_VOLUME_GROUP="ive-control-volume-group",e.CSS_CONTROL_VOLUME_BTN="ive-control-volume-btn",e.CSS_CONTROL_VOLUME_RANGE_INPUT="ive-control-volume-range",e.CSS_CONTROL_CAPTION_BTN="ive-control-caption-btn",e.CSS_CONTROL_CAPTION_LIST_GROUP="ive-control-caption-select",e.CSS_CONTROL_PLAYBACK_RATE_BTN="ive-control-playback-rate-btn",e.CSS_CONTROL_PLAYBACK_RATE_LIST_GROUP="ive-control-playback-rate-select",e.CSS_CONTROL_FULLSCREEN_BTN="ive-control-fullscreen-btn",e.CSS_CONTROL_CLOSE_POPUP_BTN="ive-control-close-popup-btn",e.CSS_CONTROL_POPUP_CONTAINER="ive-control-popup-container",e.CSS_CLS_ICON_PLAY_BG="ive-play-btn-bg-img",e.CSS_CLS_ICON_PAUSE_BG="pause-btn-bg-img",e.CSS_CLS_ICON_PREV_BG="prev-btn-bg-img",e.CSS_CLS_ICON_NEXT_BG="next-btn-bg-img",e.CSS_CLS_ICON_REWIND_15SEC_BG="rewind-15sec-btn-bg-img",e.CSS_CLS_ICON_FORWARD_15SEC_BG="forward-15sec-btn-bg-img",e.CSS_CLS_ICON_VOLUME_BG="volume-btn-bg-img",e.CSS_CLS_ICON_VOLUME_LOW_BG="volume-low-btn-bg-img",e.CSS_CLS_ICON_MUTE_BG="mute-btn-bg-img",e.CSS_CLS_ICON_CAPTION_BG="caption-btn-bg-img",e.CSS_CLS_ICON_FULLSCREEN_BG="fullscreen-btn-bg-img",e.CSS_CLS_ICON_OK_BG="ok-btn-bg-img",e.CSS_CLS_ICON_RELOAD_BG="reload-btn-bg-img",e.CSS_CLS_ICON_CLOSE_BG="close-btn-bg-img",e.CSS_CLS_ICON_RESUME_PLAY_BG="circle-play-bg-img",e.CSS_CLS_HIDDEN="ive-hidden",e.CSS_CLS_INVISIBLE="ive-invisible",e.CSS_CLS_CHAPTER_LINK="ive-chapter-link",e.CSS_CLS_VISUAL_SHOWING="ive-visual-showing",e.CSS_CLS_CONTROL_SHOW="ive-control-show",e.IVE_FONT_LOGO_STYLE="font-family: monospace,system-ui,sans-serif; font-weight: bold; color: red; text-shadow: 2px 2px 0 rgb(217,31,38) , 4px 4px 0 rgb(226,91,14) , 6px 6px 0 rgb(245,221,8) , 8px 8px 0 rgb(5,148,68) , 10px 10px 0 rgb(2,135,206) , 12px 12px 0 rgb(4,77,145) , 14px 14px 0 rgb(42,21,113)"}(e||(e={}));const t={DEFAULT_HOST_TYPE:"INTERNAL",HOST_BASE_URL:"http://localhost:3000",HOST_ENDPOINT_GET_ALL:"/api/v1/get_all?",HOST_ENDPOINT_GET:"/api/v1/get?",HOST_ENDPOINT_PUT:"/api/v1/put?",HOST_ENDPOINT_POST:"/api/v1/post?",HOST_ENDPOINT_DELETE:"/api/v1/delete?",POWERED_BY_IVE_MSG:`<br/><span style='font-size:0.5em;color:springgreen'>Powered by</span> <span style='${e.IVE_FONT_LOGO_STYLE};font-size:0.75em'>IVE</span>`,WELCOME_CTA_MSG:"<span style='opacity:0.75'>Begin Experience?</span>",NETWORK_ERROR_CTA_MSG:"<span style='opacity:0.75'>Sorry!</span><br/><span style='font-size:0.65em;color:red'>something went wrong</span>",DB:{CONFIGS:[{}],RUNNERS:[{}],SESSIONS:[{}]}},n=Object.freeze({DELAY_BY:"delayBy",PLAY_FILM:"playFilm",PAUSE_FILM:"pauseFilm",SEEK_FILM:"seekFilm",PLAY_AUDIO:"playAudio",PAUSE_AUDIO:"pauseAudio",SEEK_AUDIO:"seekAudio",SHOW_VISUAL:"showVisual",HIDE_VISUAL:"hideVisual",LOAD_VISUAL:"loadVisual",PUSH_ASIDE:"pushAsideIndex"}),r=Object.freeze({TOUCH_END:"touchend",MOUSE_OVER:"mouseover",ON_CLICK:"click"}),i=Object.create(t);i.update=function(e,t){i[e]=t};class o extends HTMLElement{constructor({}={}){super(),this._root=void 0,this._detail=void 0,this._config=void 0,this._configs=void 0,this._runner=void 0,this._runners=void 0,this.hasAttribute("run")||this.setAttribute("run","0"),this.hasAttribute("conf")||this.setAttribute("conf","0"),this._root=this.attachShadow({mode:"closed"}),console.log("%c\n__________\n\n  I V E      \n__________\n",`font-size: 25px; ${e.IVE_FONT_LOGO_STYLE}`)}static get observedAttributes(){return["css","script","data","run","conf"]}get run(){return parseInt(this.getAttribute("run"))}get conf(){return parseInt(this.getAttribute("conf"))}get css(){return this.getAttribute("css")}get script(){return this.getAttribute("script")}get data(){return this.getAttribute("data")}get detail(){return this._detail}set detail(e){this._detail=e}get runner(){return this._runner}set runner(e){this._runner&&this._runner.unbind(),this._runner=e,this._runner.bind(this.root)}get runners(){return this._runners}set runners(e){this._runners=e}get configs(){return this._configs}set configs(e){this._configs=e}get config(){return this._config}set config(e){this._config&&this._config.unbind(),this._config=e,this._config.bind(this.root)}get root(){return this._root}set root(e){this._root=e}_extendElementPrototype(){Element.prototype.showMe=function(){this.classList.remove(e.CSS_CLS_HIDDEN)},Element.prototype.hideMe=function(){this.classList.add(e.CSS_CLS_HIDDEN)},Element.prototype.showFocusMe=function(){this.classList.remove(e.CSS_CLS_HIDDEN),this.focus()},Element.prototype.toggleMe=function(){this.classList.toggle(e.CSS_CLS_HIDDEN)}}_shrinkElementPrototype(){delete Element.prototype.showMe,delete Element.prototype.hideMe,delete Element.prototype.showFocusMe,delete Element.prototype.toggleMe}}let s,a,c,l,_,d,u,E,h;s=n.PLAY_FILM,a=n.PAUSE_FILM,c=n.SEEK_FILM,l=n.PLAY_AUDIO,_=n.PAUSE_AUDIO,d=n.SEEK_AUDIO,u=n.SHOW_VISUAL,E=n.HIDE_VISUAL,h=n.LOAD_VISUAL;class p extends o{constructor({}={}){super(),this._isBuffering=!1,this._isFilmLoadError=!1,this._isAudioLoadError=!1,this._filmBuffered=0,this._audioBuffered=0,this._filmLoadProgress=0,this._audioLoadProgress=0,this._isExperiencePaused_=!1,this._isRunnerFilmPaused_=!1,this._isRunnerAudioPlaying_=!1,this._isRunnerVisualShowing_=!1,this._visualElements_={}}[s](){this.root.getElementById(e.CSS_VIDEO_ELEMENT).play().then(()=>{this._isRunnerFilmPaused_=!1}).catch(e=>{this._isFilmLoadError_=!0,console.warn(`PlayVideoError:\n[A.PLAY_FILM] call\n\n${e}`)})}[a](){this.root.getElementById(e.CSS_VIDEO_ELEMENT).pause(),this._isRunnerFilmPaused_=!0}[c](t){this.root.getElementById(e.CSS_VIDEO_ELEMENT).currentTime=t}[l](){this.root.getElementById(e.CSS_AUDIO_ELEMENT).play().then(()=>{this._isRunnerAudioPlaying_=!0}).catch(e=>{this._isAudioLoadError_=!0,console.warn(`PlayAudioError:\n[A.PLAY_AUDIO] call\n\n${e}`)})}[_](){const t=this.root.getElementById(e.CSS_AUDIO_ELEMENT);t.pause(),t.currentTime=0,this._isRunnerAudioPlaying_=!1}[d](t){this.root.getElementById(e.CSS_AUDIO_ELEMENT).currentTime=t}[u](){this.root.getElementById(e.CSS_VISUAL_CONTAINER).showMe(),this._isRunnerVisualShowing_=!0}[E](){this.root.getElementById(e.CSS_VISUAL_CONTAINER).hideMe(),this._isRunnerVisualShowing_=!1}[h](t){t<this.config.visuals.length&&this.root.getElementById(e.CSS_VISUAL_CONTAINER).load(t)}set _isBuffering_(t){this._isBuffering=t,this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_EXPERIENCE_LOADING))}get _isBuffering_(){return this._isBuffering}set _isFilmLoadError_(t){this._isFilmLoadError=t,this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_EXPERIENCE_LOADING))}get _isFilmLoadError_(){return this._isFilmLoadError}set _isAudioLoadError_(t){this._isAudioLoadError=t,this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_EXPERIENCE_LOADING))}get _isAudioLoadError_(){return this._isAudioLoadError}set _filmBuffered_(t){this._filmBuffered=t,this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_EXPERIENCE_LOADING))}get _filmBuffered_(){return this._filmBuffered}set _audioBuffered_(t){this._audioBuffered=t,this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_EXPERIENCE_LOADING))}get _audioBuffered_(){return this._audioBuffered}set _filmLoadProgress_(t){this._filmLoadProgress=t,this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_EXPERIENCE_LOADING))}get _filmLoadProgress_(){return this._filmLoadProgress}set _audioLoadProgress_(t){this._audioLoadProgress=t,this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_EXPERIENCE_LOADING))}get _audioLoadProgress_(){return this._audioLoadProgress}get _currentTime_(){return this.root.getElementById(e.CSS_VIDEO_ELEMENT).currentTime}get _duration_(){return this.root.getElementById(e.CSS_VIDEO_ELEMENT).duration}get _playbackRate_(){return this.root.getElementById(e.CSS_VIDEO_ELEMENT).playbackRate}get _timePerDuration_(){const t=this.root.getElementById(e.CSS_VIDEO_ELEMENT);return t.currentTime?`${new Date(1e3*t.currentTime).toISOString().substring(11,19).replace(/00:/,"")} / ${new Date(1e3*t.duration).toISOString().substring(11,19).replace(/00:/,"")}`:"--:--:--/--:--:--"}_initExperience_(){const t=this.root.getElementById(e.CSS_VIDEO_ELEMENT),n=this.root.getElementById(e.CSS_AUDIO_ELEMENT),r=this.root.getElementById(e.CSS_LOADER_WELCOME_GROUP),i=this.root.getElementById(e.CSS_CONTROL_CONTAINER);n.play().then(()=>{n.pause(),n.muted=!1,n.currentTime=0}).catch(e=>{this._isAudioLoadError_=!0,console.warn(`PlayAudioError:\ninitExperience call\n\n${e}`)}),t.play().then(()=>{t.muted=!1,this._changeVolume_(null,.5),this._changePlaybackRate_(null,1),this._changeCaption_(null,e.CC_OFF),i.showMe(),r.hideMe()}).catch(e=>{this._isFilmLoadError_=!0,console.warn(`PlayVideoError:\ninitExperience call\n\n${e}`)})}_changeExperience_(e,t=null){}_changeCurrentTime_(t,r=null){const i=this.root.getElementById(e.CSS_VIDEO_ELEMENT),o=t?parseFloat(t.currentTarget.value)*this._duration_:r;i.currentTime=o,this[n.PLAY_FILM](),this[n.PAUSE_AUDIO](),this[n.HIDE_VISUAL](),this.runner.seek()}_changeVolume_(t,n=null){const r=this.root.getElementById(e.CSS_CONTROL_VOLUME_RANGE_INPUT),i=this.root.getElementById(e.CSS_VIDEO_ELEMENT),o=this.root.getElementById(e.CSS_AUDIO_ELEMENT),s=this.root.getElementById(e.CSS_CONTROL_VOLUME_BTN),a=[e.CSS_CLS_ICON_VOLUME_BG,e.CSS_CLS_ICON_VOLUME_LOW_BG,e.CSS_CLS_ICON_MUTE_BG],c=t?parseFloat(t.currentTarget.value):n;i.volume=c,o.volume=c,null!==n&&(r.value=c.toString()),0==i.volume?(s.classList.remove(...a),s.classList.add(e.CSS_CLS_ICON_MUTE_BG)):i.volume>0&&i.volume<.5?(s.classList.remove(...a),s.classList.add(e.CSS_CLS_ICON_VOLUME_LOW_BG)):(s.classList.remove(...a),s.classList.add(e.CSS_CLS_ICON_VOLUME_BG))}_changeCaption_(t,n=null){const r=this.root.getElementById(e.CSS_VIDEO_ELEMENT),i=this.root.getElementById(e.CSS_AUDIO_ELEMENT),o=this.root.getElementById(e.CSS_LOADER_VIDEO_CAPTION_CONTAINER),s=this.root.getElementById(e.CSS_LOADER_AUDIO_CAPTION_CONTAINER),a=this.root.getElementById(e.CSS_CONTROL_CAPTION_BTN),c=t?t.currentTarget.innerText:n;a.dataset.selectedValue=c;for(let t=0;t<r.textTracks.length;t++){const n=r.textTracks[t],i=n.cues;if(n.mode="hidden",n.label===c)for(let e=0;e<i.length;e++)i[e].onenter=e=>{const t=document.createElement("span"),{text:n}=e.currentTarget||{};t.innerHTML=n,o.appendChild(t),o.showMe()},i[e].onexit=()=>{o.innerHTML="",o.hideMe()};else if(i)for(let e=0;e<i.length;e++)i[e].onenter=()=>{},i[e].onexit=()=>{};c===e.CC_OFF&&(o.innerHTML="",o.hideMe())}for(let t=0;t<i.textTracks.length;t++){const n=i.textTracks[t],r=n.cues;if(n.mode="hidden",n.label===c)for(let e=0;e<r.length;e++)r[e].onenter=e=>{const t=document.createElement("span"),{text:n}=e.currentTarget||{};t.innerHTML=n,s.appendChild(t),s.showMe()},r[e].onexit=()=>{s.innerHTML="",s.hideMe()};else if(r)for(let e=0;e<r.length;e++)r[e].onenter=()=>{},r[e].onexit=()=>{};c===e.CC_OFF&&(s.innerHTML="",s.hideMe())}}_changePlaybackRate_(t,n=null){const r=this.root.getElementById(e.CSS_VIDEO_ELEMENT),i=this.root.getElementById(e.CSS_AUDIO_ELEMENT),o=this.root.getElementById(e.CSS_CONTROL_PLAYBACK_RATE_BTN),s=(t?parseFloat(t.currentTarget.innerText):n).toFixed(2);o.dataset.selectedValue=s,o.innerText=`${s.replace(/(^0|.00$|0$)/g,"")}x`,r.playbackRate=parseFloat(s),i.playbackRate=parseFloat(s)}_toggleControlVisibilityOnTouchDevice_(t){const n=this.root.getElementById(e.CSS_ENGINE_CONTAINER);t.type==r.TOUCH_END&&n.classList.toggle(e.CSS_CLS_CONTROL_SHOW)}_toggleFullscreen_(){const e=this.root.host;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}_toggleMute_(){const t=this.root.getElementById(e.CSS_CONTROL_VOLUME_RANGE_INPUT);parseFloat(t.value)>0?this._changeVolume_(null,0):this._changeVolume_(null,.5)}_toggleExperiencePlay_(){const t=this.root.getElementById(e.CSS_VIDEO_ELEMENT),n=this.root.getElementById(e.CSS_AUDIO_ELEMENT),r=this.root.getElementById(e.CSS_VISUAL_CONTAINER),i=this.root.getElementById(e.CSS_LOADER_RESUME_PLAY_BTN),o=this.root.getElementById(e.CSS_CONTROL_CONTAINER);this._isExperiencePaused_?(this._isRunnerFilmPaused_||t.play().catch(e=>{console.warn(`PlayVideoError:\ntoggleExperiencePlay call\n\n${e}`)}),this._isRunnerAudioPlaying_&&n.play().catch(e=>{console.warn(`PlayAudioError:\ntoggleExperiencePlay call\n\n${e}`)}),this._isRunnerVisualShowing_&&r.showMe(),o.showMe(),i.hideMe(),this.runner.resume(),this._isExperiencePaused_=!1):this.runner.pause().then(()=>{t.pause(),n.pause(),r.hideMe(),o.hideMe(),i.showFocusMe(),this._isExperiencePaused_=!0})}}function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var S,m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){!function(t){var n="object"==typeof m?m:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!o&&!s,c={create:o?function(){return U(Object.create(null))}:s?function(){return U({__proto__:null})}:function(){return U({})},has:a?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:a?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),_="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=_||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function s(e,t){return[e,t]}}():Map,u=_||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,E=new(_||"function"!=typeof WeakMap?function(){var e=c.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do{t="@@WeakMap@@"+s()}while(c.has(e,t));return e[t]=!0,t}function i(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function o(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<16;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function h(e,t,n){var r=E.get(e);if(f(r)){if(!n)return;r=new d,E.set(e,r)}var i=r.get(t);if(f(i)){if(!n)return;i=new d,r.set(t,i)}return i}function p(e,t,n){if(A(e,t,n))return!0;var r=B(t);return!N(r)&&p(e,r,n)}function A(e,t,n){var r=h(t,n,!1);return!f(r)&&!!r.has(e)}function S(e,t,n){if(A(e,t,n))return m(e,t,n);var r=B(t);return N(r)?void 0:S(e,r,n)}function m(e,t,n){var r=h(t,n,!1);if(!f(r))return r.get(e)}function C(e,t,n,r){h(n,r,!0).set(e,t)}function g(e,t){var n=O(e,t),r=B(e);if(null===r)return n;var i=g(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new u,s=[],a=0,c=n;a<c.length;a++)o.has(d=c[a])||(o.add(d),s.push(d));for(var l=0,_=i;l<_.length;l++){var d;o.has(d=_[l])||(o.add(d),s.push(d))}return s}function O(e,t){var n=[],r=h(e,t,!1);if(f(r))return n;for(var o=function(e){var t=v(e,i);if(!I(t))throw new TypeError;var n=t.call(e);if(!R(n))throw new TypeError;return n}(r.keys()),s=0;;){var a=P(o);if(!a)return n.length=s,n;var c=a.value;try{n[s]=c}catch(e){try{w(o)}finally{throw e}}s++}}function T(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function f(e){return void 0===e}function N(e){return null===e}function R(e){return"object"==typeof e?null!==e:"function"==typeof e}function L(e){var t=function(e,t){switch(T(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=v(e,r);if(void 0!==n){var i=n.call(e,"string");if(R(i))throw new TypeError;return i}return function(e,t){var n,r,i=e.toString;if(I(i)&&!R(r=i.call(e)))return r;if(I(n=e.valueOf)&&!R(r=n.call(e)))return r;throw new TypeError}(e)}(e);return"symbol"==typeof t?t:function(e){return""+e}(t)}function b(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function I(e){return"function"==typeof e}function y(e){return"function"==typeof e}function v(e,t){var n=e[t];if(null!=n){if(!I(n))throw new TypeError;return n}}function P(e){var t=e.next();return!t.done&&t}function w(e){var t=e.return;t&&t.call(e)}function B(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function U(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,n,r){if(f(n)){if(!b(e))throw new TypeError;if(!y(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!f(r)&&!N(r)){if(!y(r))throw new TypeError;t=r}}return t}(e,t)}if(!b(e))throw new TypeError;if(!R(t))throw new TypeError;if(!R(r)&&!f(r)&&!N(r))throw new TypeError;return N(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!f(o)&&!N(o)){if(!R(o))throw new TypeError;r=o}}return r}(e,t,n=L(n),r)}),e("metadata",function(e,t){return function(n,r){if(!R(n))throw new TypeError;if(!f(r)&&!function(e){switch(T(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;C(e,t,n,r)}}),e("defineMetadata",function(e,t,n,r){if(!R(n))throw new TypeError;return f(r)||(r=L(r)),C(e,t,n,r)}),e("hasMetadata",function(e,t,n){if(!R(t))throw new TypeError;return f(n)||(n=L(n)),p(e,t,n)}),e("hasOwnMetadata",function(e,t,n){if(!R(t))throw new TypeError;return f(n)||(n=L(n)),A(e,t,n)}),e("getMetadata",function(e,t,n){if(!R(t))throw new TypeError;return f(n)||(n=L(n)),S(e,t,n)}),e("getOwnMetadata",function(e,t,n){if(!R(t))throw new TypeError;return f(n)||(n=L(n)),m(e,t,n)}),e("getMetadataKeys",function(e,t){if(!R(e))throw new TypeError;return f(t)||(t=L(t)),g(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!R(e))throw new TypeError;return f(t)||(t=L(t)),O(e,t)}),e("deleteMetadata",function(e,t,n){if(!R(t))throw new TypeError;f(n)||(n=L(n));var r=h(t,n,!1);if(f(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=E.get(t);return i.delete(n),i.size>0||E.delete(t),!0})}(r)}()}(S||(S={}));var C,g,O=(C=function(e,t){function n(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function r(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var i,o="JsonProperties",s="JsonIgnore",a=function(e,t){return Reflect.getMetadata(h,e,t)},c=function(e,t){var n=a(e,t);return null!=n&&null!=n.name?n.name:t},l=function(e){switch(e){case u.STRING_TYPE:case u.NUMBER_TYPE:case u.BOOLEAN_TYPE:case u.DATE_TYPE:case u.STRING_TYPE_LOWERCASE:case u.NUMBER_TYPE_LOWERCASE:case u.BOOLEAN_TYPE_LOWERCASE:case u.DATE_TYPE_LOWERCASE:return!0;default:return!1}},_=function(e){return e.name||function(e){var t=e.toString(),n=t.indexOf("class"),r=t.indexOf("{",n+5);return t.substring(n+5,r).trim()}(e)},d=function(e,t){return Reflect.getMetadata("design:type",e,t)},u={OBJECT_TYPE:"Object",OBJECT_TYPE_LOWERCASE:"object",STRING_TYPE:"String",STRING_TYPE_LOWERCASE:"string",NUMBER_TYPE:"Number",NUMBER_TYPE_LOWERCASE:"number",BOOLEAN_TYPE:"Boolean",BOOLEAN_TYPE_LOWERCASE:"boolean",DATE_TYPE:"Date",DATE_TYPE_LOWERCASE:"date",ARRAY_TYPE:"Array",ARRAY_TYPE_LOWERCASE:"array",FROM_ARRAY:"fromArray"},E=function(e,t){var n=null!=e.getJsonObjectMapperCacheKey?e.getJsonObjectMapperCacheKey():_(e);return t[n]||(t[n]=new e),t[n]},h="JsonProperty";(i=t.AccessType||(t.AccessType={}))[i.READ_ONLY=0]="READ_ONLY",i[i.WRITE_ONLY=1]="WRITE_ONLY",i[i.BOTH=2]="BOTH";var p=function(e){return function(t){var n=new Function("return '"+e+"';");t.getJsonObjectMapperCacheKey=n}},A=function(e,t){this.json=t,this.message=e,this.stack=(new Error).stack},S=function(e,t,n,r,i){try{return e[t]=r[i],[]}catch(n){throw new A("Property '"+t+"' of "+e.constructor.name+" does not match datatype of "+i,r)}},m=function(e,t,n,r,i){try{return e[t]=new Date(r[i]),[]}catch(n){throw new A("Property '"+t+"' of "+e.constructor.name+" does not match datatype of "+i,r)}},C=function(e,t,n,r,i){var o=void 0!==i?r[i]||[]:r,s=o.length,a=[],c=[];if(e[t]=c,s>0)for(var d=0;d<s;d++)if(o[d]){var E=_(n);if(l(E))c.push(f[u.FROM_ARRAY](o[d],E));else{var h=new n;a.push({functionName:u.OBJECT_TYPE,instance:h,json:o[d]}),c.push(h)}}return a},g=function(e,n,r,i,c){var E,h=[];null!=n?(E=new r,e[n]=E):E=e;var p=Object.keys(E);return(p=(p=p.concat((Reflect.getMetadata(o,E)||[]).filter(function(e){return(!E.constructor.prototype.hasOwnProperty(e)||void 0!==Object.getOwnPropertyDescriptor(E.constructor.prototype,e).set)&&p.indexOf(e)<0}))).filter(function(e){return!Reflect.hasMetadata(s,E,e)})).forEach(function(e){var n=a(E,e);if(void 0===n&&(n={name:e,required:!1,access:t.AccessType.BOTH}),t.AccessType.WRITE_ONLY!=n.access){if(n.required&&void 0===i[n.name])throw new A("JSON structure does have have required property '"+n.name+"' as required by '"+_(E)+"["+e+"]",i);var r=null!=n.name?n.name:e;if(null!=i[r])if(null!=n.deserializer)E[e]=T(n.deserializer).deserialize(i[r]);else if(void 0===n.type)E[e]=i[r];else if(function(e,t){return Array===d(e,t)}(E,e))f[u.ARRAY_TYPE](E,e,n.type,i,r).forEach(function(e){h.push(e)});else{var o=null!=n.type?_(n.type):function(e,t){var n=d(e,t);return null!=n?_(n):n}(E,e);l(o)?f[o](E,e,o,i,r):(E[e]=new n.type,h.push({functionName:u.OBJECT_TYPE,type:n.type,instance:E[e],json:i[r]}))}}}),h},O={},T=function(e){return E(e,O)},f={};f[u.OBJECT_TYPE]=g,f[u.ARRAY_TYPE]=C,f[u.DATE_TYPE]=m,f[u.STRING_TYPE]=S,f[u.NUMBER_TYPE]=S,f[u.BOOLEAN_TYPE]=S,f[u.FROM_ARRAY]=function(e,t){return t===u.DATE_TYPE?new Date(e):e},f[u.OBJECT_TYPE_LOWERCASE]=g,f[u.ARRAY_TYPE_LOWERCASE]=C,f[u.DATE_TYPE_LOWERCASE]=m,f[u.STRING_TYPE_LOWERCASE]=S,f[u.NUMBER_TYPE_LOWERCASE]=S,f[u.BOOLEAN_TYPE_LOWERCASE]=S;var N=function(e,t,n){var r={},i=t.instance;return t.visited=!0,i.forEach(function(e){if(void 0!==e)if(l(typeof e))t.values.push(k[typeof e](void 0,e,U[typeof e]));else{var i={id:D(),type:u.OBJECT_TYPE,instance:e,parentIndex:n,values:[],key:void 0,visited:!1};r[i.id]=i}}),R(r)},R=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push(e[n])}),t},L=function(e,t){b(e),t.values.push(e.values.pop())},b=function(e){var t,n;t=e.type===u.OBJECT_TYPE?(void 0!==(n=e.key)?'"'+n+'":':"")+"{"+e.values.join()+"}":function(e,t){return(void 0!==e?'"'+e+'":':"")+"["+t.join()+"]"}(e.key,e.values),e.values=[],e.values.push(t)},I=function(e,n,r){var i={};n.visited=!0;var _=Object.keys(n.instance);return(_=(_=_.concat((Reflect.getMetadata(o,n.instance)||[]).filter(function(e){return(!n.instance.constructor.prototype.hasOwnProperty(e)||void 0!==Object.getOwnPropertyDescriptor(n.instance.constructor.prototype,e).get)&&_.indexOf(e)<0}))).filter(function(e){return!Reflect.hasMetadata(s,n.instance,e)})).forEach(function(e){var o=n.instance[e];if(null===o)n.values.push('"'+e+'":'+o);else if(void 0!==o){var s=a(n.instance,e);if(void 0!==s&&t.AccessType.READ_ONLY===s.access);else if(void 0!==s&&void 0!==s.serializer){var _=M(s.serializer);n.values.push(k[u.STRING_TYPE](c(n.instance,e),o,_))}else if(o instanceof Array){var d={id:D(),type:u.ARRAY_TYPE,instance:o,parentIndex:r,values:[],key:c(n.instance,e),visited:!1};i[d.id]=d}else l(typeof o)?(_=U[typeof o],n.values.push(k[typeof o](c(n.instance,e),o,_))):(d={id:D(),type:u.OBJECT_TYPE,instance:o,parentIndex:r,values:[],key:c(n.instance,e),visited:!1},i[d.id]=d)}}),R(i)},y=function(e,t,n){var r=n.serialize(t);return void 0!==e?'"'+e+'":'+r:r},v=n([p("DateSerializer"),r("design:paramtypes",[])],function(){this.serialize=function(e){return e.getTime()}}),P=n([p("StringSerializer"),r("design:paramtypes",[])],function(){this.serialize=function(e){return JSON.stringify(e)}}),w=n([p("NumberSerializer"),r("design:paramtypes",[])],function(){this.serialize=function(e){return e}}),B=n([p("BooleanSerializer"),r("design:paramtypes",[])],function(){this.serialize=function(e){return e}}),U={};U[u.STRING_TYPE]=new P,U[u.NUMBER_TYPE]=new w,U[u.DATE_TYPE]=new v,U[u.BOOLEAN_TYPE]=new B,U[u.STRING_TYPE_LOWERCASE]=U[u.STRING_TYPE],U[u.NUMBER_TYPE_LOWERCASE]=U[u.NUMBER_TYPE],U[u.DATE_TYPE_LOWERCASE]=U[u.DATE_TYPE],U[u.BOOLEAN_TYPE_LOWERCASE]=U[u.BOOLEAN_TYPE];var M=function(e){return E(e,U)},k=[];k[u.STRING_TYPE]=y,k[u.NUMBER_TYPE]=y,k[u.BOOLEAN_TYPE]=y,k[u.DATE_TYPE]=y,k[u.ARRAY_TYPE]=N,k[u.OBJECT_TYPE]=I,k[u.STRING_TYPE_LOWERCASE]=y,k[u.NUMBER_TYPE_LOWERCASE]=y,k[u.BOOLEAN_TYPE_LOWERCASE]=y,k[u.DATE_TYPE_LOWERCASE]=y,k[u.ARRAY_TYPE_LOWERCASE]=N,k[u.OBJECT_TYPE_LOWERCASE]=I;var D=function(){return Math.random()+"-"+Date.now()};!function(e){e.deserializeArray=function(e,n){var r=new function(){this.instances=void 0};return t(f[u.ARRAY_TYPE](r,"instances",e,n,void 0)),r.instances},e.deserialize=function(e,n){var r=new e;return t([{functionName:u.OBJECT_TYPE,instance:r,json:n}]),r};var t=function(e){var t=[];e.forEach(function(e){t.push(e)});for(var n=t[0];null!=n;)f[n.functionName](n.instance,n.instanceKey,n.type,n.json,n.jsonKey).forEach(function(e){t.push(e)}),n=t.pop()};e.serialize=function(e){var t=[],n={id:void 0,type:!0===Array.isArray(e)?u.ARRAY_TYPE:u.OBJECT_TYPE,instance:e,parentIndex:void 0,values:[],key:void 0,visited:!1};t.push(n);do{var r=t[t.length-1],i=t[t.length>1?r.parentIndex:0];if(r.visited)L(r,i),t.pop();else{var o=k[r.type](i,r,t.length-1);if(o.length>0)for(var s=o.length;--s>=0;)t.push(o[s]);else t.length>1&&L(r,i),t.pop()}}while(t.length>1);return b(n),n.values[0]}}(t.ObjectMapper||(t.ObjectMapper={})),t.JsonProperty=function(e){return function(e){return function(e,t){return Reflect.metadata(e,t)}(h,e)}("string"==typeof e?{name:e,required:!1,access:t.AccessType.BOTH}:e)},t.JsonConverstionError=A,t.CacheKey=p,t.JsonIgnore=function(){return function(e,t){Reflect.defineMetadata(s,!0,e,t)}},t.DateSerializer=v},C(g={exports:{}},g.exports),g.exports);class T{constructor(e){this.mem=void 0,this.ORM=void 0,this.uid=void 0,this.uid=e||Math.random().toString(16).slice(2)}deserializeArray(e){return O.ObjectMapper.deserializeArray(this.constructor,e)}deserialize(e){return O.ObjectMapper.deserialize(this.constructor,e)}serialize(e){return O.ObjectMapper.serialize(e)}parseQuery(e={}){return new URLSearchParams(A({},e))}fetch(t){switch(i.DEFAULT_HOST_TYPE){case e.HOST_TYPE_EXTERNAL:return this._external(t);case e.HOST_TYPE_INTERNAL:return this._internal(t);default:return Promise.reject("NOT FOUND:\nHost type not found. Please set DEFAULT_HOST_TYPE to correct value")}}_external(e){const{body:t,endpoint:n,method:r}=e||{};return new Promise((e,i)=>{fetch(n,A({method:r,headers:{"Content-Type":"application/json"}},t?{body:t}:{})).then(e=>e.json()).then(t=>e(t)).catch(e=>i(e))})}_internal(e){const{body:t,endpoint:n}=e||{};let r=[];const{pathname:o,searchParams:s}=new URL(`${i.HOST_BASE_URL}${n}`),a=s.get("table");for(const[e,t]of s)"table"!=e&&(r=[e,t]);return new Promise((e,n)=>{switch(o+"?"){case i.HOST_ENDPOINT_GET_ALL:e(i.DB[a]);break;case i.HOST_ENDPOINT_GET:e(i.DB[a].filter(e=>e[r[0]]===r[1])[0]);break;case i.HOST_ENDPOINT_POST:i.DB[a].push(JSON.parse(t)),e(JSON.parse(t));break;case i.HOST_ENDPOINT_PUT:let s;i.DB[a]=i.DB[a].map(e=>e[r[0]]===r[1]?(s=A({},e,JSON.parse(t)),s):e),e(s);break;case i.HOST_ENDPOINT_DELETE:i.DB[a]=i.DB[a].filter(e=>e[r[0]]!==r[1]),e("{status: SUCCESSFUL}");break;default:n(`Unknown api endpoint ${o}`)}})}}class f extends T{constructor(e){super(e)}post(){return new Promise((e,t)=>{this.fetch({body:this.serialize(this),endpoint:i.HOST_ENDPOINT_POST+this.parseQuery({table:this.ORM}),method:"POST"}).then(t=>e(this.deserialize(t))).catch(e=>t(e))})}put(e){return new Promise((t,n)=>{this.fetch({body:this.serialize(this),endpoint:i.HOST_ENDPOINT_PUT+this.parseQuery(A({},e,{table:this.ORM})),method:"PUT"}).then(e=>t(this.deserialize(e))).catch(e=>n(e))})}get(e){return new Promise((t,n)=>{this.fetch({endpoint:i.HOST_ENDPOINT_GET+this.parseQuery(A({},e,{table:this.ORM})),method:"GET"}).then(e=>t(this.deserialize(e))).catch(e=>n(e))})}delete(e){return new Promise((t,n)=>{this.fetch({endpoint:i.HOST_ENDPOINT_DELETE+this.parseQuery(A({},e,{table:this.ORM})),method:"DELETE"}).then(()=>t(!0)).catch(e=>n(e))})}}function N(e){return JSON.parse(JSON.stringify(e))}const R={_wait:0,_timerRef:null,_resolve:null,_reject:null,_prom(){return new Promise((e,t)=>{this._resolve=e,this._reject=t})},now(){const e=this._prom();return this._timerRef=setTimeout(()=>this._resolve(),this._wait),e},abort(){clearTimeout(this._timerRef),this._reject&&this._reject("Kill signal received")}};function L(e){const t=Object.create(R);return t._wait=e,t}const b={[e.ORM_CONFIGS]:class extends f{constructor({film:t,audio:n,visuals:r,uid:i}={}){super(i),this.mem=null,this.film=void 0,this.audio=void 0,this.visuals=void 0,this.film=t,this.audio=n,this.visuals=r,this.ORM=e.ORM_CONFIGS,this._handleSourceLoad=this._handleSourceLoad.bind(this)}modify({film:e,audio:t,visuals:n}={}){return this.film=e||this.film,this.audio=t||this.audio,this.visuals=n||this.visuals,this.put({uid:this.uid})}register(){return this.post()}getAllMem(){return this.mem}getMem(e){return this.mem[e]}setMem(e){this.mem=A({},this.mem,e)}bind(t){return this.setMem({host:t.host}),this.getMem("host").addEventListener(e.EVENT_ENGINE_ATTACH_VIDEO_SRC,this._handleSourceLoad),this.getMem("host").addEventListener(e.EVENT_ENGINE_ATTACH_AUDIO_SRC,this._handleSourceLoad),this}unbind(){return this.getMem("host").removeEventListener(e.EVENT_ENGINE_ATTACH_VIDEO_SRC,this._handleSourceLoad),this.getMem("host").removeEventListener(e.EVENT_ENGINE_ATTACH_AUDIO_SRC,this._handleSourceLoad),this}_handleSourceLoad({detail:e}){const{member:t,element:n}=e||{},r=this[t].type,[i,o]=r.split(";");if(URL.revokeObjectURL(n.src),"MediaSource"in window&&MediaSource.isTypeSupported(r)){const e=new MediaSource;n.src=URL.createObjectURL(e),e.onsourceopen=()=>{const o=e.addSourceBuffer(r);this._fetch(t).then(t=>(o.onupdateend=()=>{try{e.endOfStream()}catch(e){URL.revokeObjectURL(n.src),n.src=URL.createObjectURL(new Blob([t],{type:i})),console.warn(`Unknown:\nPossibly unsupported media type codecs or un-fragmented video source\n\n${e}`)}},t)).then(e=>{o.appendBuffer(e)}).catch(e=>{URL.revokeObjectURL(n.src),n.src=this[t].src,console.warn(e)}).finally(()=>{n.load()})}}else n.src=this[t].src,n.load(),console.warn(`Unsupported:\n${this[t].type} mime type\nMedia source extension is not available in browser\nfalling back to HTML5 standard src url.`)}_fetch(e){let t=!1;return new Promise((n,r)=>{const i=new XMLHttpRequest;i.responseType="arraybuffer",i.open("GET",this[e].src),i.onprogress=n=>{t&&(i.abort(),r(`Memory:\n${e} size exceeds 250mb\nabandoned using blob src`)),n.lengthComputable&&(t=n.total>262144e3,this.getMem("host")[`_${e}LoadProgress_`]=n.loaded/n.total*.75)},i.onload=()=>n(i.response),i.onerror=()=>r("Network:\nsomething went wrong during xmlHttpRequest."),i.send()})}},[e.ORM_RUNNERS]:class extends f{constructor({stack:t,aside:n,uid:r}={}){super(r),this.mem=null,this.stack=void 0,this.aside=void 0,this.stack=t||[],this.aside=n||[],this.ORM=e.ORM_RUNNERS,this._handleExec=this._handleExec.bind(this),this.seek=function(e,t=0){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}}(this.seek,500)}modify({stack:e,aside:t}={}){return this.stack=e||this.stack,this.aside=t||this.aside,this.put({uid:this.uid})}register(){return this.post()}getAllMem(){return this.mem}getMem(e){return this.mem[e]}setMem(e){this.mem=A({},this.mem,e)}bind(t){const n=N(this.stack),r=n.pop();return this.setMem({state:e.RUNNER_STATE_IDLE,cloneTop:r,cloneStack:n,host:t.host}),this.getMem("host").addEventListener(e.EVENT_ENGINE_TIMEUPDATE,this._handleExec),this.getMem("host").addEventListener(e.EVENT_ENGINE_VISUAL_INTERACTION,this._handleExec),this}unbind(){return this.getMem("host").removeEventListener(e.EVENT_ENGINE_TIMEUPDATE,this._handleExec),this.getMem("host").removeEventListener(e.EVENT_ENGINE_VISUAL_INTERACTION,this._handleExec),this}seek(){this.pause().then(()=>{const e=this.getMem("host")._currentTime_,t=N(this.stack.filter(t=>"number"==typeof t.detail&&t.detail>=e));this.setMem({cloneStack:t,pauseStart:null}),this._setTop()})}pause(){return new Promise(e=>{this.getMem("delayActionRef")&&this.getMem("delayActionRef").abort(),this.setMem({pauseStart:Date.now()}),e()})}resume(){if(this.getMem("cloneTop")){const t=this.getMem("pauseStart")-this.getMem("delayStart"),r=this.getMem("cloneTop").actions,i=r[r.length-1];this.setMem({pauseStart:null}),i===n.DELAY_BY&&(r[r.length-1]=`${n.DELAY_BY}::${t}`),this.getMem("state")===e.RUNNER_STATE_BUSY&&this._exec()}else this.setMem({pauseStart:null})}_handleExec({detail:t}){if(!this.getMem("host")._isExperiencePaused_&&this.getMem("cloneTop")&&this.getMem("state")===e.RUNNER_STATE_IDLE){const{currentTime:n,eventType:i,asideIndex:o}=t||{currentTime:this.getMem("host")._currentTime_};switch(this.getMem("cloneTop").type){case e.RUNNER_TYPE_IMMEDIATE:this._exec();break;case e.RUNNER_TYPE_TIMER:this.getMem("cloneTop").detail===Math.floor(n)&&this._exec();break;case e.RUNNER_TYPE_INTERACTION:r[this.getMem("cloneTop").detail]===i&&this._exec(o);break;default:console.warn(`Undefined:\n${this.getMem("cloneTop").type} is not known`)}}}_setTop(){const t=this.getMem("cloneStack").pop();if(this.setMem({cloneTop:t,state:t?e.RUNNER_STATE_IDLE:e.RUNNER_STATE_BUSY}),t&&this.getMem("cloneTop").type===e.RUNNER_TYPE_IMMEDIATE){const e=this.getMem("cloneTop").detail,t="number"==typeof e?e:r[this.getMem("cloneTop").detail];this._handleExec(new CustomEvent(null,{detail:{detail:t}}))}}async _exec(t){this.setMem({state:e.RUNNER_STATE_BUSY});const r=this.getMem("cloneTop").actions;for(;r.length;){const[e,i=null]=r[r.length-1].split("::"),o=n[e];switch(o){case n.DELAY_BY:this.setMem({delayActionRef:L(1e3*parseInt(i)/this.getMem("host")._playbackRate_),delayStart:Date.now()});try{await this.getMem("delayActionRef").now()}catch(t){console.warn(`Interruption:\n${t} for ${e}`)}break;case n.PUSH_ASIDE:const r=i||t;this.aside[r]?this.getMem("cloneStack").push(N(this.aside[r])):console.warn(`Undefined:\naside index ${r} is out of bounds`);break;default:this.getMem("host")[o]?this.getMem("host")[o](i):console.warn(`Undefined:\n${o} is NOT a valid action`)}if(this.getMem("pauseStart"))return;r.pop()}this._setTop()}},[e.ORM_SESSIONS]:class extends f{constructor({uid:t}={}){super(t),this.ORM=e.ORM_SESSIONS}modify({}={}){return this.put({uid:this.uid})}register(){return this.post()}}};class I extends T{constructor(e){super(),this.ORM=e,this.constructor=b[e]}then(e){return new Promise((t,n)=>{this.fetch({endpoint:i.HOST_ENDPOINT_GET_ALL+this.parseQuery({table:this.ORM}),method:"GET"}).then(e=>this.deserializeArray(e)).then(n=>t(e(n))).catch(e=>n(e))})}}class y extends p{constructor({}={}){super()}onEngineReady(t){this._loadDataSrc().then(()=>{t.apply(this),this._extendElementPrototype(),this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_READY))})}onDataChange(e){this.isConnected&&this.configs&&this.root.childNodes.length&&this._loadDataSrc().then(()=>{e.apply(this)})}onEngineDestroyed(e){this._shrinkElementPrototype(),e.apply(this)}_loadDataSrc(){return new Promise((t,n)=>{fetch(this.data).then(e=>e.json()).then(e=>i.update("DB",e)).then(()=>{new I(e.ORM_CONFIGS).then(e=>{this.configs=e,this.config=this.configs[this.conf]}).then(()=>{new I(e.ORM_RUNNERS).then(e=>{this.runners=e,this.runner=this.runners[this.run],t()}).catch(e=>n(e))}).catch(e=>n(e))})})}}class v extends y{constructor({}={}){super()}_addLoaderElement(){const e=this._createLoader();return e.append(this._createWelcomeGroup(),this._createNetworkErrorGroup(),this._createVideoLoadProgressGroup(),this._createEngineBusySpinner(),this._createVideoCaptionContainer(),this._createAudioCaptionContainer(),this._createResumePlayBtn()),this._addLoaderListener(e),e}_createLoader(){const t=document.createElement("div");return t.id=e.CSS_LOADER_CONTAINER,t}_createWelcomeGroup(){const t=document.createElement("span"),n=document.createElement("span"),r=document.createElement("button");return t.id=e.CSS_LOADER_WELCOME_GROUP,n.innerHTML=`${i.WELCOME_CTA_MSG}${i.POWERED_BY_IVE_MSG}`,r.classList.add(e.CSS_CLS_ICON_OK_BG),r.ariaLabel="okay",r.disabled=!0,r.onclick=this._initExperience_.bind(this),t.append(n,r),t}_createNetworkErrorGroup(){const t=document.createElement("span"),n=document.createElement("span"),r=document.createElement("button");return t.id=e.CSS_LOADER_NETWORK_ERROR_GROUP,t.classList.add(e.CSS_CLS_HIDDEN),n.innerHTML=`${i.NETWORK_ERROR_CTA_MSG}`,r.classList.add(e.CSS_CLS_ICON_RELOAD_BG),r.ariaLabel="reload",r.onclick=()=>location.reload(),t.append(n,r),t}_createVideoLoadProgressGroup(){const t=document.createElement("span"),n=document.createTextNode("0%"),r=document.createElement("progress");return t.id=e.CSS_LOADER_VIDEO_LOAD_PROGRESS_GROUP,t.classList.add(e.CSS_CLS_HIDDEN),r.ariaLabel="video loading",r.value=0,r.max=100,t.append(n,r),t}_createEngineBusySpinner(){const t=document.createElement("span");return t.id=e.CSS_LOADER_ENGINE_BUSY_GROUP,t.classList.add(e.CSS_CLS_HIDDEN),t}_createVideoCaptionContainer(){const t=document.createElement("span");return t.id=e.CSS_LOADER_VIDEO_CAPTION_CONTAINER,t.classList.add(e.CSS_CLS_HIDDEN),t}_createAudioCaptionContainer(){const t=document.createElement("span");return t.id=e.CSS_LOADER_AUDIO_CAPTION_CONTAINER,t.classList.add(e.CSS_CLS_HIDDEN),t}_createResumePlayBtn(){const t=document.createElement("button");return t.id=e.CSS_LOADER_RESUME_PLAY_BTN,t.ariaLabel="resume experience",t.classList.add(e.CSS_CLS_HIDDEN,e.CSS_CLS_ICON_RESUME_PLAY_BG),t.onclick=this._toggleExperiencePlay_.bind(this),t}_addLoaderListener(t){const[n,r,i,o]=t.childNodes,[,s]=n.childNodes;this.addEventListener(e.EVENT_ENGINE_EXPERIENCE_LOADING,()=>{const[t,a]=i.childNodes;if(this._isFilmLoadError_||this._isAudioLoadError_)return n.hideMe(),i.hideMe(),o.hideMe(),this.root.getElementById(e.CSS_CONTROL_CONTAINER).hideMe(),void r.showMe();if((this._filmLoadProgress_+this._audioLoadProgress_)/2<.85){i.showMe();const e=Math.round((this._filmLoadProgress_+this._audioLoadProgress_)/2*100);t.nodeValue=`${e}%`,a.value=e,a.innerHTML=`${e}% loaded`}else s.disabled=!1,i.hideMe();this._isBuffering_?o.showMe():o.hideMe()})}}class P extends v{constructor({}={}){super()}_addControlElement(){const e=this._createControl();return e.append(this._createControlProgressTimeGroup(),this._createControlCTAGroup()),this._addControlListener(e),e}_createControl(){const t=document.createElement("aside");return t.id=e.CSS_CONTROL_CONTAINER,t.classList.add(e.CSS_CLS_HIDDEN),t}_createControlProgressTimeGroup(){const t=document.createElement("span"),n=document.createElement("span"),r=document.createElement("span"),i=document.createElement("span"),o=document.createElement("input"),s=document.createElement("span");return t.id=e.CSS_CONTROL_PROGRESS_TIME_GROUP,s.id=e.CSS_CONTROL_TIME_PER_DURATION,n.id=e.CSS_CONTROL_PROGRESS_BAR,n.ariaLabel="film progress bar",n.tabIndex=0,n.setAttribute("role","progressbar"),n.setAttribute("aria-valuenow","0"),n.setAttribute("aria-valuemin","0"),n.setAttribute("aria-valuemax","100"),n.setAttribute("aria-valuetext","0% played"),o.type="range",o.name="film range",o.min="0",o.max="1",o.step="0.01",o.value="0",o.ariaLabel="film range slider",o.oninput=this._changeCurrentTime_.bind(this),n.append(r,i,o),t.append(n,s),t}_createControlPreviousBtnWrapper(){const t=document.createElement("button");return t.ariaLabel="previous experience",t.id=e.CSS_CONTROL_PREVIOUS_BTN,t.classList.add(e.CSS_CLS_ICON_PREV_BG),t.onclick=this._changeExperience_.bind(this),t}_createControlPlayPauseBtnWrapper(){const t=document.createElement("button");return t.ariaLabel="play/pause",t.id=e.CSS_CONTROL_PLAY_PAUSE_BTN,t.classList.add(e.CSS_CLS_ICON_PLAY_BG),t.onclick=this._toggleExperiencePlay_.bind(this),t}_createControlNextBtnWrapper(){const t=document.createElement("button");return t.ariaLabel="next experience",t.id=e.CSS_CONTROL_NEXT_BTN,t.classList.add(e.CSS_CLS_ICON_NEXT_BG),t.onclick=this._changeExperience_.bind(this),t}_createControlRewind15secBtnWrapper(){const t=document.createElement("button");return t.ariaLabel="rewind 15 seconds",t.id=e.CSS_CONTROL_REWIND_15SEC_BTN,t.classList.add(e.CSS_CLS_ICON_REWIND_15SEC_BG),t.onclick=()=>this._changeCurrentTime_(null,this._currentTime_-15),t}_createControlForward15secBtnWrapper(){const t=document.createElement("button");return t.ariaLabel="forward 15 seconds",t.id=e.CSS_CONTROL_FORWARD_15SEC_BTN,t.classList.add(e.CSS_CLS_ICON_FORWARD_15SEC_BG),t.onclick=()=>this._changeCurrentTime_(null,this._currentTime_+15),t}_createControlVolumeGroup(){const t=document.createElement("span"),n=document.createElement("button"),r=document.createElement("input");return t.id=e.CSS_CONTROL_VOLUME_GROUP,r.oninput=this._changeVolume_.bind(this),n.id=e.CSS_CONTROL_VOLUME_BTN,n.classList.add(e.CSS_CLS_ICON_VOLUME_BG),n.ariaLabel="show volume slider",n.onclick=this._toggleMute_.bind(this),r.id=e.CSS_CONTROL_VOLUME_RANGE_INPUT,r.type="range",r.name="volume",r.min="0",r.max="1",r.step="0.1",r.ariaLabel="volume slider",t.append(n,r),t}_createControlCaptionGroup(){const t=document.createElement("button");return t.id=e.CSS_CONTROL_CAPTION_BTN,t.classList.add(e.CSS_CLS_ICON_CAPTION_BG),t.ariaLabel="open caption menu",t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls",e.CSS_CONTROL_POPUP_CONTAINER),t.onclick=this._togglePopupMenu.bind(this),t}[e.CSS_CONTROL_CAPTION_BTN](){const t=this.root.getElementById(e.CSS_CONTROL_CAPTION_BTN),n=document.createElement("ul");n.id=e.CSS_CONTROL_CAPTION_LIST_GROUP;const r=[e.CC_OFF,...this.config.film.tracks.map(e=>e.label)].map(e=>{const n=document.createElement("li"),r=document.createElement("a"),i=t.dataset.selectedValue===e;return r.href="javascript:void 0;",r.innerText=e,r.dataset.selected=i.toString(),r.dataset.associateBtnId=t.id,r.onclick=this._changeCaption_.bind(this),n.appendChild(r),n});return n.append(...r),n}_createControlPlaybackRateGroup(){const t=document.createElement("button");return t.id=e.CSS_CONTROL_PLAYBACK_RATE_BTN,t.ariaLabel="open playback rate menu",t.innerText="--",t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls",e.CSS_CONTROL_POPUP_CONTAINER),t.onclick=this._togglePopupMenu.bind(this),t}[e.CSS_CONTROL_PLAYBACK_RATE_BTN](){const t=this.root.getElementById(e.CSS_CONTROL_PLAYBACK_RATE_BTN),n=document.createElement("ul");n.id=e.CSS_CONTROL_PLAYBACK_RATE_LIST_GROUP;const r=["0.25","0.50","0.75","1.00","1.25","1.50","1.75","2.00"].map(e=>{const n=document.createElement("li"),r=document.createElement("a"),i=t.dataset.selectedValue===e;return r.href="javascript:void 0;",r.innerText=e,r.dataset.associateBtnId=t.id,r.dataset.selected=i.toString(),r.onclick=this._changePlaybackRate_.bind(this),n.appendChild(r),n});return n.append(...r),n}_createControlFullscreenBtnWrapper(){const t=document.createElement("button");return t.ariaLabel="open in fullscreen",t.id=e.CSS_CONTROL_FULLSCREEN_BTN,t.classList.add(e.CSS_CLS_ICON_FULLSCREEN_BG),t.onclick=this._toggleFullscreen_.bind(this),t}_createControlCTAGroup(){const t=document.createElement("span"),n=document.createElement("span");return t.id=e.CSS_CONTROL_CTA_GROUP,n.style.flex="1",n.style.visibility="hidden",t.append(this._createControlPreviousBtnWrapper(),this._createControlPlayPauseBtnWrapper(),this._createControlNextBtnWrapper(),this._createControlRewind15secBtnWrapper(),this._createControlForward15secBtnWrapper(),this._createControlVolumeGroup(),n,this._createControlCaptionGroup(),this._createControlPlaybackRateGroup(),this._createControlFullscreenBtnWrapper()),t}_createControlPopupList(){const t=document.createElement("span"),n=document.createElement("span"),r=document.createElement("span"),i=document.createElement("button");return t.id=e.CSS_CONTROL_POPUP_CONTAINER,i.id=e.CSS_CONTROL_CLOSE_POPUP_BTN,i.classList.add(e.CSS_CLS_ICON_CLOSE_BG),i.onclick=this._togglePopupMenu.bind(this),r.onclick=this._togglePopupMenu.bind(this),n.appendChild(i),t.append(n,r),[t,i,r]}_togglePopupMenu(t){let n=this.root.getElementById(e.CSS_CONTROL_POPUP_CONTAINER);const r=this.root.getElementById(t.currentTarget.dataset.associateBtnId||t.currentTarget.id);if(!n){const[e,t,i]=this._createControlPopupList();return n=e,n.dataset.associateBtnId=r.id,t.dataset.associateBtnId=r.id,i.dataset.associateBtnId=r.id,i.appendChild(this[r.id]()),r.setAttribute("aria-expanded","true"),r.after(n),void n.querySelector("a[data-selected='true']").scrollIntoView()}if(n.dataset.associateBtnId===r.id)n.remove(),r.setAttribute("aria-expanded","false");else{n.remove();const e=this.root.getElementById(n.dataset.associateBtnId),[t,i,o]=this._createControlPopupList();n=t,n.dataset.associateBtnId=r.id,i.dataset.associateBtnId=r.id,o.dataset.associateBtnId=r.id,o.appendChild(this[r.id]()),r.setAttribute("aria-expanded","true"),e.setAttribute("aria-expanded","false"),r.after(n),n.querySelector("a[data-selected='true']").scrollIntoView()}}_updateControlBtnState(){const t=parseInt(this.getAttribute("conf")),n=this.root.getElementById(e.CSS_CONTROL_PLAY_PAUSE_BTN),r=this.root.getElementById(e.CSS_CONTROL_REWIND_15SEC_BTN),i=this.root.getElementById(e.CSS_CONTROL_FORWARD_15SEC_BTN),o=this.root.getElementById(e.CSS_CONTROL_PREVIOUS_BTN),s=this.root.getElementById(e.CSS_CONTROL_NEXT_BTN);this._isExperiencePaused_?(n.classList.remove(e.CSS_CLS_ICON_PAUSE_BG),n.classList.add(e.CSS_CLS_ICON_PLAY_BG)):(n.classList.remove(e.CSS_CLS_ICON_PLAY_BG),n.classList.add(e.CSS_CLS_ICON_PAUSE_BG)),r.disabled=!(this._currentTime_>15),i.disabled=this._currentTime_>this._duration_-15,o.disabled=!(t>0),s.disabled=!(t<this.configs.length-1)}_updateControlChapterJump(){if(this._currentTime_>1&&this._currentTime_<3){const t=this.root.getElementById(e.CSS_CONTROL_PROGRESS_BAR);t.querySelectorAll(`.${e.CSS_CLS_CHAPTER_LINK}`).forEach(e=>e.remove());const n=[];for(const t of this.config.film.chapters){const r=document.createElement("a");r.classList.add(e.CSS_CLS_CHAPTER_LINK),r.href="javascript:void 0;",r.style.left=t/this._duration_*100+"%",r.onclick=()=>this._changeCurrentTime_(null,t),n.push(r)}t.append(...n)}}_addControlListener(t){const[n]=t.childNodes,[r,i]=n.childNodes,[o,s]=r.childNodes;this.addEventListener(e.EVENT_ENGINE_EXPERIENCE_LOADING,()=>{i.innerText=this._timePerDuration_,o.style.width=`${r.getAttribute("aria-valuenow")}%`,s.style.width=100*this._filmBuffered_+"%"}),this.addEventListener(e.EVENT_ENGINE_TIMEUPDATE,()=>{const e=this._currentTime_/this._duration_*100;i.innerText=this._timePerDuration_,r.setAttribute("aria-valuenow",e.toString()),r.setAttribute("aria-valuetext",`${e}% played`),o.style.width=`${r.getAttribute("aria-valuenow")}%`,s.style.width=100*this._filmBuffered_+"%",this._updateControlBtnState(),this._updateControlChapterJump()}),this.addEventListener(e.EVENT_ENGINE_VISUAL_PRESENTED_TIMEUPDATE,({detail:t})=>{t.currentTime?n.classList.add(e.CSS_CLS_VISUAL_SHOWING):n.classList.remove(e.CSS_CLS_VISUAL_SHOWING)})}}class w extends P{constructor({}={}){super()}_addVisualElement(){const e=this._createVisual();return this._createLazyVisualContent(0),this._addVisualListener(e),e}_createVisual(){const t=document.createElement("main");return t.id=e.CSS_VISUAL_CONTAINER,t.classList.add(e.CSS_CLS_HIDDEN),t.ontouchend=this._toggleControlVisibilityOnTouchDevice_.bind(this),t.load=e=>{try{t.replaceChildren(...this._createLazyVisualContent(e))}catch(n){t.innerHTML="",t.append(...this._createLazyVisualContent(e)),console.log(`Compatibility:\nreplaceChildren not supported by browser\n\n${n}`)}},t}_createLazyVisualContent(e){return this._visualElements_[e]||(this._visualElements_[e]=[...this._renderElements(this.config.visuals[e].elements||[]),...this._renderRiots(this.config.visuals[e].elements||[])]),this._visualElements_[e]}_renderElements(e){const t=[];for(const{tag:n,id:r,text:i,classList:o,attribute:s,event:a,children:c}of e){const e=document.createElement(n);e.ontouchstart=e=>e.stopImmediatePropagation(),e.ontouchend=e=>e.stopImmediatePropagation(),e.onclick=e=>e.stopImmediatePropagation(),r&&(e.id=r),i&&(e.innerText=i),e.classList.add(...o);for(const t in s)e.setAttribute(t,s[t]);for(const t in a)e[t]=this._handleInteractionEvent.bind(this,a[t]);c&&e.append(...this._renderElements(c)),t.push(e)}return t}_renderRiots(e){return[]}_handleInteractionEvent(t,n){n.stopImmediatePropagation(),_routine_&&_routine_.hasOwnProperty(t)?_routine_[t].call(this,n).then(t=>this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_VISUAL_INTERACTION,{detail:{eventType:n.type,asideIndex:t}}))):Promise.reject(`Undefined:\n${t} is not a member of _routine_`)}_addVisualListener(t){let n,r=!1,i=0,o=0;new MutationObserver(t=>{for(const s of t)"attributes"===s.type&&(r=!s.target.classList.contains(e.CSS_CLS_HIDDEN),r?(i=0,n=setInterval(()=>{i++,this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_VISUAL_PRESENTED_TIMEUPDATE,{detail:{currentTime:i,totalTime:o||i}}))},1e3)):(o+=i,i=0,clearInterval(n)),this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_VISUAL_PRESENTED_TIMEUPDATE,{detail:{currentTime:i,totalTime:o}})))}).observe(t,{attributes:!0})}}class B extends w{constructor({}={}){super()}_addAudioElement(){const e=this._createAudio();return e.append(...this._createAudioTrack(),this._createNoAudioSupport()),this._addAudioEventListener(e),this._addAudioSrc(e),e}_addAudioSrc(t){const n=t||this.root.getElementById(e.CSS_AUDIO_ELEMENT);this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_ATTACH_AUDIO_SRC,{detail:{element:n,member:"audio"}}))}_createAudio(){const t=document.createElement("audio");return t.id=e.CSS_AUDIO_ELEMENT,t.autoplay=!1,t.controls=!1,t.loop=!1,t.muted=!0,t.preload="metadata",t}_createAudioTrack(){const t=[];for(const{label:n,src:r}of this.config.audio.tracks){const i=document.createElement("track");i.kind="captions",i.label=n,i.src=r,i.default=!1,i.srclang=n.substring(0,2).toLowerCase(),i.classList.add(e.CSS_CLS_HIDDEN),t.push(i)}return t}_createNoAudioSupport(){return document.createTextNode("HTML5 audio not supported by browser")}_addAudioEventListener(e){e.onprogress=t=>{const n=e.duration,r=e.buffered;for(let t=1;t<=r.length;t++){const i=r.start(r.length-t),o=r.end(r.length-t);if(i<e.currentTime){this._audioBuffered_=o/n;break}}this._audioLoadProgress_=this._audioBuffered_>.75?1:this._audioLoadProgress_+.1*(1-this._audioLoadProgress_)},e.oncanplaythrough=()=>{this._audioLoadProgress_=1,this._audioBuffered_=1},e.onwaiting=()=>{this._isBuffering_=!0},e.onwaiting=()=>{this._isBuffering_=!1},e.onerror=e=>{this._isAudioLoadError_=!0,console.warn(`PlayAudioError:\naudio.onerror call\n\n${e}`)}}}class U extends B{constructor({}={}){super()}_addVideoElement(){const e=this._createVideo();return e.append(...this._createVideoTrack(),this._createNoVideoSupport()),this._addVideoEventListener(e),this._addVideoSrc(e),e}_addVideoSrc(t){const n=t||this.root.getElementById(e.CSS_VIDEO_ELEMENT);n.poster=this.config.film.poster,this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_ATTACH_VIDEO_SRC,{detail:{element:n,member:"film"}}))}_createVideo(){const t=document.createElement("video");return t.id=e.CSS_VIDEO_ELEMENT,t.disablePictureInPicture=!0,t.disableRemotePlayback=!0,t.playsInline=!0,t.autoplay=!1,t.controls=!1,t.muted=!0,t.loop=!1,t.preload="metadata",t.ontouchend=this._toggleControlVisibilityOnTouchDevice_.bind(this),t}_createVideoTrack(){const t=[];for(const{label:n,src:r}of this.config.film.tracks){const i=document.createElement("track");i.kind="captions",i.label=n,i.src=r,i.default=!1,i.srclang=n.substring(0,2).toLowerCase(),i.classList.add(e.CSS_CLS_HIDDEN),t.push(i)}return t}_createNoVideoSupport(){return document.createTextNode("HTML5 video not supported by browser")}_addVideoEventListener(t){t.onprogress=e=>{const n=t.duration,r=t.buffered;for(let e=1;e<=r.length;e++){const i=r.start(r.length-e),o=r.end(r.length-e);if(i<t.currentTime){this._filmBuffered_=o/n;break}}this._filmLoadProgress_=this._filmBuffered_>.75?1:this._filmLoadProgress_+.1*(1-this._filmLoadProgress_)},t.oncanplaythrough=()=>{this._filmLoadProgress_=1,this._filmBuffered_=1},t.onwaiting=()=>{this._isBuffering_=!0},t.onplaying=()=>{this._isBuffering_=!1},t.onerror=e=>{this._isFilmLoadError_=!0,console.warn(`PlayVideoError:\naudio.onerror call\n\n${e}`)},t.ontimeupdate=t=>{this.dispatchEvent(new CustomEvent(e.EVENT_ENGINE_TIMEUPDATE))}}}const M=`\n:host {\n    --color-white: #fff;\n    --color-black: #000;\n    --color-off-white: #e8e8e8;\n    --color-royal-blue: #4169e1;\n    --color-melon-yellow: #ff9900;\n    --color-control-container-bg: #1e1e1e;\n    --color-overlay-bg: rgba(0, 0, 0, 0.6);\n    --color-caption-bg: rgba(0, 0, 0, 0.75);\n    --color-control-btn-bg: rgba(0, 0, 0, 0.6);\n    --color-off-white-0: rgba(232, 232, 232, 0.8);\n    --color-off-white-1: rgba(232, 232, 232, 0.6);\n    --color-off-white-2: rgba(232, 232, 232, 0.15);\n    --color-control-btn-hover-bg: rgba(0, 0, 0, 0.8);\n    --color-loader-container-bg: rgba(37, 37, 37, 0.8);\n\n    --dimension-control-container-height: 65px;\n    --dimension-control-btn-size: 27.5px;\n\n    --spacing-col-element: 10px;\n\n    position: relative;\n    display: block;\n    color: white;\n    margin: auto;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    background: var(--color-black);\n}\n\n:host * {\n    box-sizing: border-box;\n    scrollbar-width: thin;\n    scrollbar-color: var(--color-black) transparent;\n}\n:host *::-webkit-scrollbar {\n    width: 15px;\n}\n:host *::-webkit-scrollbar-track {\n    background: transparent;\n}\n:host *::-webkit-scrollbar-thumb {\n    background: var(--color-black);\n    border-radius: 15px;\n    border: 3px solid var(--color-control-container-bg);\n}\n\n#${e.CSS_AUDIO_ELEMENT} {\n    display: block;\n}\n\n#${e.CSS_VIDEO_ELEMENT} {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n}\n\n#${e.CSS_VISUAL_CONTAINER} {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: var(--color-overlay-bg);\n    z-index: 1;\n    -webkit-transition: height .25s ease-in;\n    -moz-transition: height .25s ease-in;\n    -o-transition: height .25s ease-in;\n    -ms-transition: height .25s ease-in;\n    transition: height .25s ease-in;\n}\n\n#${e.CSS_CONTROL_CONTAINER} {\n    display: block;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    padding: 0 7.5px;\n    width: 100%;\n    color: var(--color-off-white-0);\n    height: var(--dimension-control-container-height);\n    background: var(--color-control-container-bg);\n    -moz-transform: translate(0, 65%);\n    -ms-transform: translate(0, 65%);\n    -o-transform: translate(0, 65%);\n    -webkit-transform: translate(0, 65%);\n    transform: translate(0, 65%);\n    -webkit-transition: transform .25s ease-in;\n    -moz-transition: transform .25s ease-in;\n    -o-transition: transform .25s ease-in;\n    -ms-transition: transform .25s ease-in;\n    transition: transform .25s ease-in;\n    z-index: 1;\n}\n#${e.CSS_CONTROL_PROGRESS_TIME_GROUP} {\n    display: flex;\n    align-items: center;\n    margin: 5px 0;\n}\n#${e.CSS_CONTROL_PROGRESS_BAR} {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    flex: 1;\n    height: 4.5px;\n    border-radius: 2.5px;\n    overflow: hidden;\n    background: var(--color-black);\n    -webkit-transition: height .25s ease-in;\n    -moz-transition: height .25s ease-in;\n    -o-transition: height .25s ease-in;\n    -ms-transition: height .25s ease-in;\n    transition: height .25s ease-in;\n}\n#${e.CSS_CONTROL_PROGRESS_BAR}:hover {\n    height: 8px;\n    border-radius: 4px;\n    -webkit-transition: height .25s ease-in, border-radius .25s ease-in;\n    -moz-transition: height .25s ease-in, border-radius .25s ease-in;\n    -o-transition: height .25s ease-in, border-radius .25s ease-in;\n    -ms-transition: height .25s ease-in, border-radius .25s ease-in;\n    transition: height .25s ease-in, border-radius .25s ease-in;\n}\n#${e.CSS_CONTROL_PROGRESS_BAR}:hover .${e.CSS_CLS_CHAPTER_LINK} {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    -webkit-transition: width .25s ease-in, height .25s ease-in, border-radius .25s ease-in;\n    -moz-transition: width .25s ease-in, height .25s ease-in, border-radius .25s ease-in;\n    -o-transition: width .25s ease-in, height .25s ease-in, border-radius .25s ease-in;\n    -ms-transition: width .25s ease-in, height .25s ease-in, border-radius .25s ease-in;\n    transition: width .25s ease-in, height .25s ease-in, border-radius .25s ease-in;\n}\n#${e.CSS_CONTROL_PROGRESS_BAR}:hover > span:nth-child(1) {\n    background: var(--color-off-white);\n    -webkit-transition: background .25s ease-in;\n    -moz-transition: background .25s ease-in;\n    -o-transition: background .25s ease-in;\n    -ms-transition: background .25s ease-in;\n    transition: background .25s ease-in;\n}\n#${e.CSS_CONTROL_PROGRESS_BAR}:hover > span:nth-child(1),\n#${e.CSS_CONTROL_PROGRESS_BAR}:hover > span:nth-child(2) {\n    border-radius: 4px;\n    -webkit-transition: border-radius .25s ease-in;\n    -moz-transition: border-radius .25s ease-in;\n    -o-transition: border-radius .25s ease-in;\n    -ms-transition: border-radius .25s ease-in;\n    transition: border-radius .25s ease-in;\n}\n#${e.CSS_CONTROL_PROGRESS_BAR} > span:nth-child(1) {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    border-radius: 2.5px;\n    background: var(--color-off-white-1);\n}\n#${e.CSS_CONTROL_PROGRESS_BAR} > span:nth-child(2) {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    border-radius: 2.5px;\n    background: var(--color-off-white-2);\n}\n#${e.CSS_CONTROL_PROGRESS_BAR} > input[type=range] {\n    -webkit-appearance: none;\n    appearance: none;\n    cursor: pointer;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    opacity: 0;\n}\n#${e.CSS_CONTROL_TIME_PER_DURATION} {\n    position: relative;\n    display: inline-block;\n    width: 90px;\n    font-size: 70%;\n    text-align: right;\n    white-space: nowrap;\n}\n#${e.CSS_CONTROL_CTA_GROUP} {\n    display: flex;\n    align-items: flex-start;\n}\n#${e.CSS_CONTROL_CTA_GROUP} button {\n    display: inline-block;\n    cursor: pointer;\n    color: inherit;\n    border: none;\n    padding: 0;\n    font: inherit;\n    font-size: 70%;\n    font-weight: 400;\n    width: var(--dimension-control-btn-size);\n    height: var(--dimension-control-btn-size);\n    margin: 0 2.5px;\n    border-radius: 2.5px;\n    background: var(--color-control-btn-bg);\n}\n#${e.CSS_CONTROL_CTA_GROUP} button:hover,\n#${e.CSS_CONTROL_CTA_GROUP} a:hover,\n#${e.CSS_CONTROL_CTA_GROUP} a[data-selected="true"] {\n    background: var(--color-control-btn-hover-bg);\n}\n#${e.CSS_CONTROL_CTA_GROUP} button:disabled {\n    cursor: not-allowed;\n    opacity: 0.35;\n}\n#${e.CSS_CONTROL_VOLUME_GROUP} {\n    position: relative;\n    display: flex;\n    align-items: center;\n    overflow: hidden;\n}\n#${e.CSS_CONTROL_VOLUME_GROUP} input[type=range]:focus,\n#${e.CSS_CONTROL_VOLUME_GROUP}:hover input[type=range],\n#${e.CSS_CONTROL_VOLUME_GROUP} > button:focus ~ input[type=range] {\n    opacity: 1;\n}\n#${e.CSS_CONTROL_VOLUME_GROUP} input[type=range] {\n    -webkit-appearance: none;\n    appearance: none;\n    background: transparent;\n    cursor: pointer;\n    width: 90px;\n    margin: 0 5px;\n    opacity: 0;\n}\n#${e.CSS_CONTROL_VOLUME_GROUP} input[type=range]::-webkit-slider-runnable-track {\n    height: 4.5px;\n    border-radius: 2.5px;\n    background: var(--color-off-white-1);\n}\n#${e.CSS_CONTROL_VOLUME_GROUP} input[type=range]::-moz-range-track {\n    height: 4.5px;\n    border-radius: 2.5px;\n    background: var(--color-off-white-1);\n}\n#${e.CSS_CONTROL_VOLUME_GROUP} input[type="range"]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    margin-top: -4px;\n    border-radius: 13px;\n    width: 13px;\n    height: 13px;\n    background: var(--color-white);\n}\n#${e.CSS_CONTROL_VOLUME_GROUP} input[type="range"]::-moz-range-thumb {\n    border: none;\n    border-radius: 13px;\n    width: 13px;\n    height: 13px;\n    background: var(--color-white);\n}\n#${e.CSS_CONTROL_POPUP_CONTAINER} {\n    display: inline-block;\n    position: absolute;\n    bottom: calc(var(--dimension-control-container-height) + var(--spacing-col-element));\n    right: calc(var(--spacing-col-element));\n    border-radius: 2.5px;\n    font-size: 0.85em;\n    padding: calc(var(--spacing-col-element) / 1.25);\n    background: var(--color-control-container-bg);\n}\n#${e.CSS_CONTROL_POPUP_CONTAINER} span:first-child button {\n    width: calc(var(--dimension-control-btn-size) / 1.25);\n    height: calc(var(--dimension-control-btn-size) / 1.25);\n}\n#${e.CSS_CONTROL_POPUP_CONTAINER} span:first-child {\n    display: flex;\n    justify-content: flex-end;\n    border-bottom: solid 1px var(--color-off-white-2);\n    padding-bottom: calc(var(--spacing-col-element) / 2);\n    margin-bottom: calc(var(--spacing-col-element) / 2);\n}\n#${e.CSS_CONTROL_POPUP_CONTAINER} span:last-child {\n    display: block;\n    min-width: min(50vw, 140px);\n    max-height: min(50vh, 200px);\n    overflow: auto;\n}\n#${e.CSS_CONTROL_POPUP_CONTAINER} ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n#${e.CSS_CONTROL_POPUP_CONTAINER} li {\n    margin: 0;\n    padding: 0;\n}\n#${e.CSS_CONTROL_POPUP_CONTAINER} a {\n    display: inline-block;\n    text-decoration: none;\n    color: inherit;\n    width: 100%;\n    border-radius: 2.5px;\n    padding: calc(var(--spacing-col-element)/1.25);\n}\n\n#${e.CSS_LOADER_CONTAINER} {\n    display: block;\n}\n#${e.CSS_LOADER_CONTAINER} button:disabled {\n    cursor: not-allowed;\n    opacity: 0.35;\n}\n#${e.CSS_LOADER_WELCOME_GROUP},\n#${e.CSS_LOADER_NETWORK_ERROR_GROUP},\n#${e.CSS_LOADER_RESUME_PLAY_BTN} {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    background: var(--color-loader-container-bg);\n    z-index: 2;\n}\n#${e.CSS_LOADER_WELCOME_GROUP} button,\n#${e.CSS_LOADER_NETWORK_ERROR_GROUP} button {\n    cursor: pointer;\n    color: inherit;\n    border: none;\n    padding: 0;\n    font: inherit;\n    font-size: 70%;\n    font-weight: 400;\n    width: var(--dimension-control-btn-size);\n    height: var(--dimension-control-btn-size);\n    border-radius: 2.5px;\n    margin: var(--spacing-col-element) 0;\n    background: var(--color-control-btn-bg);\n}\n#${e.CSS_LOADER_VIDEO_LOAD_PROGRESS_GROUP} {\n    position: absolute;\n    bottom: calc(var(--dimension-control-container-height) + 2.5%);\n    left: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    text-align: center;\n    width: 100%;\n    font-size: 0.5rem;\n    color: var(--color-off-white-1);\n    z-index: 3;\n}\n#${e.CSS_LOADER_VIDEO_LOAD_PROGRESS_GROUP} progress {\n    border: none;\n    border-radius: 2.5px;\n    width: 25%;\n    height: 2.5px;\n    margin: var(--spacing-col-element) 0;\n}\n#${e.CSS_LOADER_VIDEO_LOAD_PROGRESS_GROUP} progress::-webkit-progress-bar {\n    border-radius: 2.5px;\n    background: var(--color-off-white-1);\n}\n#${e.CSS_LOADER_VIDEO_LOAD_PROGRESS_GROUP} progress::-webkit-progress-value {\n    border-radius: 2.5px;\n    background: var(--color-black);\n}\n#${e.CSS_LOADER_VIDEO_LOAD_PROGRESS_GROUP} progress::-moz-progress-bar {\n    background: var(--color-black);\n}\n#${e.CSS_LOADER_ENGINE_BUSY_GROUP} {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 20px;\n    height: 20px;\n    margin-top: -10px;\n    margin-left: -10px;\n    border-radius: 50%;\n    border: 2px solid var(--color-black);\n    border-top-color: var(--color-white);\n    -webkit-animation-name: ive-busy-spinner;\n    -webkit-animation-duration: .6s;\n    -webkit-animation-timing-function: linear;\n    -webkit-animation-iteration-count: infinite;\n    z-index: 3;\n}\n#${e.CSS_LOADER_VIDEO_CAPTION_CONTAINER} span,\n#${e.CSS_LOADER_AUDIO_CAPTION_CONTAINER} span {\n    display: inline-block;\n    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\n    font-size: 20pt;\n    border-radius: 2.5px;\n    background: var(--color-caption-bg);\n    padding: calc(var(--spacing-col-element) / 1.5);\n}\n#${e.CSS_LOADER_VIDEO_CAPTION_CONTAINER},\n#${e.CSS_LOADER_AUDIO_CAPTION_CONTAINER} {\n    position: absolute;\n    left: 50%;\n    max-width: 85%;\n    text-align: left;\n    -moz-transform: translate(-50%, 0);\n    -ms-transform: translate(-50%, 0);\n    -o-transform: translate(-50%, 0);\n    -webkit-transform: translate(-50%, 0);\n    transform: translate(-50%, 0);\n    z-index: 0;\n}\n#${e.CSS_LOADER_VIDEO_CAPTION_CONTAINER} {\n    bottom: calc(var(--dimension-control-container-height) + var(--spacing-col-element));\n}\n#${e.CSS_LOADER_AUDIO_CAPTION_CONTAINER} {\n    top: 5%;\n}\n#${e.CSS_LOADER_RESUME_PLAY_BTN} {\n    background-size: 50px !important;\n    cursor: pointer;\n    color: inherit;\n    border: none;\n    margin: 0;\n    padding: 0;\n    border-radius: 0;\n    font: inherit;\n    width: 100%;\n    height: 100%;\n    background: var(--color-control-btn-bg);\n    z-index: 1;\n}\n\n.${e.CSS_CLS_ICON_RESUME_PLAY_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEpElEQVRoge2az29VRRTHv1Ma+7Ao9MGDohuJRMUflYULFTHRBC0Wf+6K4goCMUEI4t6NK+OGWCNb/A+MhCARrFZC+VH8FUoruOFHhGhMEGorwsfFnMubprfv3TvvvlANZ3Nz75zz/Z5zZ+bMmblXuiUzS1xRQEBZ0tOSVkh6UNK9khZKajeVK5IuSPpF0glJA5K+ds79UZQP0QKUgHXAF8A18ss/wF7gDaCtEV+iegSYLektSe9IWmyPJyQdlHRA0o+SRiT9Kumytc+R1Cnpfkldkp6R9ISkJIDzkj6U9LFzbjzGr7xB9ACng7d6BFgPzI3AmgdsAI4GeKeA1c3wPSEtAZ8EhMeA5wrE7waOB/h9QKko/ISk0xwHuAJsBmYVSuJ5ZgFbgLGgtxcVBb7EuhtgGHi4EODanF3AiHH+DCxpFLASAB4GFhTkaxbuDmDAuE8DnbFApWA4HQTa61sVK0A7cCgYZvnnTDCxh/GL3U0RYH4wKvryGvcEE7vpcyKDP11BAujOajSb6jqxOQfZu8Bt0d7Wx98aTP76QwzYbgbH8qRYsxmhSYsZ0Ap8Zzxb6ym3AedMeVVOolD2Acsa8jyd4wXDP1+zV/DFG8CRCJJELtl1HHi/yGwHOKqZdG0txX2mtD6CJJHFwE6q1fA54E2gkC0DsNFw90ynUMaX1ePEFYAABPdPBm8PoB/oaiCGBLcDmACupvoJvGqEX0YSTArEnrVYb1yw5mvALqASGUeC2294LybPWoL2FXb9qhGSUJxz151zuyQtk9QnCUnrJJ2wIdJSE2B6OWDXlVNagN0W5UsxyGk9kqLzAH43mchx4KkIrmT0fJbWOGqNUWkzSyCm54Be4IyZXAc+Be7KwfWQ2Z5Ma/zdGqPqqqyBBPq3A+8Bf5npZbuvu3cHFpjNxbTGCWuMKjPyBhLYLQU+D4bbCPB8HZs2072xt4+dbDNX/mNDq1JraP1vJnuSfl/OGUNiXzcQpqbfIeLS72tmfyP9hnNk2K6P5gXOQFwGPpL0k6RVkn6TtEnSY865gQjIpNRJ7ZFXLMr9kc5O6RGaX6KsSWvsoFo0zosAnxQIzSsay1SLxjunU9prpBsiCBJpdhm/yXB311J63ZSORhAk0uyN1ZDh99ZSbAPOmmLN1TXFNpRmbXXXGP4Z6q03wDZTHmLmHT58bzxvZzEoUT3r3ZKDqNnHQduCl5XtoxCw2ozGKCDTNCrAcqqlTL5PGfjvE8kbmN8kH7P4UcEfygHsiAEo4Q+OwR8k34xD7DnAoPkwmHlIpQBVgJMGdJgGV+Sc3GXgW+M+RaMffPAfepKuHQEKr8VSOJcHnKPAPUUBLwqG2Rj+QLm1EPDJPK2WnZKJPQgsLJqkFCQA8AfKhawZ+BW7h+o6AbAjek5kJO0Ouh18YbgR6IjAKuNrp6EAb5SIr8WxPwyU5PcT2yXdbY//lnRI0n5JP0galf9h4E9rv0P+54L7JD0i6VlJj0tKFtGzkj6QtNM5NxHjV7Tga7O1wB78FiCvXMXvTHsbHUZF/lQzV/6nmpXyR6RLJVXke0LyPXNR0in5nd03kvqdc5eK8uGWzCT5F05QXc/Nk/+qAAAAAElFTkSuQmCC") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_PLAY_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAB5ElEQVRoge2ZMS8EQRTH7wgSIiEhcY1GcxoUdDqViE8g8RVUeo0PoFRSalWicRrR6BRoFBQkCiIhuPsp7m3y7m7Pzd3O7pjJ/prL3s689/9nZ3fezBQKOTk5ORpgGxh0rSMx1LkBVl1rSQSNnAKzrjX1hDLxJr+fwC4w4lpbVygjJWAfqMr1I7AJFF1rNCJyoa4XgQtlsALMu9RoRLMR+a9PnsaT3K4Ch8CkK50diTOi7o0Be8C3NHsBtoD+rHV25C8jqk0ZOFHD7QpYzkqjESZGVNt14F4ZOgam09ZoRDdGpP0wsAN8SNd3uR5KU6eJsK6MqH4zwJF6OnfAWhoaTQX1ZET1XwGulSE31UFSIxJjQL5mrxLuS752o7Z0mohIbETFKlGfb2oSNrvqwKYRFXMJuFTDrQLM2cwRl9S6EYkbVQfPkiKqDiZs54oSpmJExR+X9+VHUqVTHaRtROVZAM7VcLNbHWRlRHIVgQ3gQdLWgANgql2fviyE/SvyoWUe3++XPYjPL60T4hk+TYj4XqIQQtFIfBlftqnRVEhPRmhdWN3i08KKEJa6NG4+1OSJ+LP5gO/bQfi+QUf7LdN0ZmUbNBshfhM73VnZBkpwGMcKBHTQAwEcvQVxGBrG8XROTo7f/AKcSk4xvp2PUQAAAABJRU5ErkJggg==") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_PAUSE_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAAcElEQVRoge3YwQqAIBAGYTd6/1fe7mKga8Eg8537hcmbrUmSVBerg8zMqYMjhmfv7t9cKx+T3dXhX398dt875kYMoTGExhAaQ2gMoTGExhAaQ2gMoTGExhAaQ2gMoTGEpvwaX301/2rfO+ZGJEna8QBvaBhAtB8jZQAAAABJRU5ErkJggg==") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_PREV_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABv0lEQVRoge3Zv48OQRzH8Ts/Q0FIJIorJCgUOg2l66ivvdK/IKJRKDQKpVYpdCoKNAqdgo6C6uQkQsSPHC/FTWLztZl9nrvZZOcyn3Ln+32/s5PnmZ2dXVhoaWlpaWmZcLAfN6fOHBKex2uYMjMnO4Bb2JAyReaQ8CLeJtevElIsl2bmZIdwB7+T5xXObUeKw6WZQ8JLeJ/433ED+9LYlqRjMHOyI7jrX17gTKiZSzoGc0i4grXE/Iar2N1TN7M0MT+WZOZkx/GgM2PPcTpTPyhNzIclmUM3sYL1xPmMK1gc6MlKE/NTSWau8QQed2bsEZZm7O2VJuaTksxcw2KaoS+pdw2rMwN6pB3m11LMoeKTeNqZsfs4No8wSnEKz0oyc0V7cM3m2g0fcHleWZTiOn6UZOYKzuJlqvuDezi6VWFXOgazb2CvzTX7Z6p5h+XtyKJ0DGa8eAFv0tgGbuNgCWHij8H870Z2lYJPIjvipxUK6v6zh6L6l99QXPcDMTTUv0UJjXVvGnsAdW/jA6T+F6sAq/tVNwDrP3wI4LqPg4K4/gO6IK/7yDSI6z/EDvK6PysEcf0felpaWlpadnz+AmU+bU+WvHU/AAAAAElFTkSuQmCC") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_NEXT_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABo0lEQVRoge3Zv0tWURzHcU0hiIgMAocEIRIK2loKJx2lIaF/wbUxotXBxaHRtTEadWiKGhrcHBQXJ9EWiQgs8Ucvh05wFOm593nOk/cezme5l3PP9/2558u995zzvQMDRUVFRUVFiYR5XG06s4oprONxk5lVTeE3lnC9icw6pofhuIXpPjCnUt1zJ9OHWI0y+Ra3msKsbBrOh/EC+6H5K2YTM3fxLPU4zphGbXfxMcrsO9y+TGZXpqF9EHP4Ebp8w9xlMbs2ja6P40OUyRWMJWYu404v4+hoGvV7jr3Q/XvI7OD/YnZUVdPQdxTvo0x+xkRi5ifcqzuOWqZRzFPshNCfeImhhMz988wqgNqmIe6mP7P2X33Bgx6ZIxcw71cN7so0ip/BdsAc4HVi5i+8wnCnoJ5MA+MG3uAkymZq5hoe/SugZ9OINYnNPjKPsOCiLUJK08C7hkUc94MZbncDT66kMmiUyqN1ltH+l13bP79ymBC1fYkih0Wjti/jtX1jJYetrrYXH+RQDpJLgU5GJdMsithZ/FbI40dPUVFRUVFRTZ0CTmptVyb//40AAAAASUVORK5CYII=") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_REWIND_15SEC_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEbElEQVRoge2ZTWxUVRTHzxRoCykQW6JUoxAtVlqq5aNUjQSCupEYV7IyrlyywMSEDQlxC4gffJUlJCREWECtX4nGAAmJC0RbSKk71ETBqcA0EuhAfy7uec7tm3nT++bememCfzK5mXfPPef/f+/ec+87T8QTQBPwYZn+ecB23zhVBfAycAUgof814HJSf90BLAI+BR6giPV3AkNYqBfXRABvAX8ov3s2UWAJcBDI6+V/Zp0QoB04Zd3kC0C39f99i3geOAC0zRohQAZ4F8gqp3+BHcAc7Y/jO6DHGl9/IcAK4AeL5BfAkzGbCKPAGyV8RBjHJIZBYBewGZgXiuvcUI4c0Kq/LhF5U6/dAj4XkYFMJnOpqtF1ar0H3NQ7mwO2AQ3aH8c3QJc1PkI7sAZ4B5PxxmLjhoAXqipGCbUDJ63A3osdWAXsBybU7D6wB5hfC0HB0y/wqAq6r+Y/A0/XQsxi4BDJG2I38K09bxz99ltTLgv0VUdBceBXMNkqaepsAa66CtExiymcCm4D/eEYlw8c/NAIzAWOq5gbwDP+TOsEYA5wRsWMAM315lQxgBZrzeytNx8vAGs1C+aBVfXm4wXMBgowVG8uXgBaddOcotq7P/BI0p4BDFMGjv73qflAePbTA21P2BwbgDsBhHSp+TjQGJp8iy7GzygcL+JClunlvwLEi57sxnif7zF+wsHmWW1/9YwlIvK9iPSIyCYROWt3NARwPhMiIWMBfF3Qtjfe4SUkE0OCWSRkA/A7MKntALA8Zcjoqa6ojLEjEtbI12XWeQ54PYX/6P0m62J8HjhfgY4kIR9g3ktOYI7384E+pp9wlzn6b9Qx91yMo5el1CkuKZ0CC4CiqWeJOezov0nt77oYR2WfNif208eWFFLGfr0OueZov0Tt/473lVrsN7R93JWQB0a1fczR/gltr8c7SgmJ0mRnSlJFAG7pHUzKTiu1dd0sI05FqbyUkGFtX3R0Xg7ntN2Z0L9L268c/b2k7S8zWgKb9C6mLpjF1wjm+DKpl08C6zDHmvXAl1bWesrR/4iO2eBi3EShjPOcjxC99jbJh8bbOO4jFGpoWVxLrZhdF2CPrxC93gEcAX7DpPdrmHKS05NQHx+p+0NpCK3GvMTkgFbngVUCZkev7MXKmsP7qsQvDZdPlMtgJYOfp/DSX3TarBUwhe+8Jo3Kig/WvBwFWgJzdIm/kEI5aLePo2bgkjo6DdTsewqm2jiosS8CTb4OOzBlS4CjtRCjIo5pzOuEqsxjjt05dXymmtNMp1P0JHLAutAB+qwncxVYHTSA/L+wx6wnEVaEFagD+EkD5YGPqeC4X8Jvm6bY6APRxWDTqUzQZmCvFTSn/7tmHl3kq1szY/TpbRLY7b2wU5LowXyunqKAYX1KW4FeTKmzUX9tem2r2oxY46Z0XXTXTEAJQb2Yc9M46ZHFfHP0rucmlXBSA/OO3y8ir4oponWKyFIRWagmEyLyp5iSzrCYYtuPmUwmH4rDQ8wm/AdKwkFw69lcCwAAAABJRU5ErkJggg==") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_FORWARD_15SEC_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEWElEQVRoge2Zz29VRRTHzyVA+anAgwAL0GilSC20SEESSEDjBheu6MqEDTGRkIgJfwBsURCMIBg3EhYmbqBClATjgkTjApGCtMUVAlG0/HiviQEK/biYM97b23m3c++7971n4jd5mbw759c3M3Nm5oxIwQB2AVMS+vcCLUXHUTMwuAZsTej/Fdhc79hSgbE4B6ys0j8KHAfmNSrWREQCvavtCHAYmB/rf6jtTeDNRsc9DpFAS8DHSsQSey/S3w58H/n/JbCo0fH/CxtV5H8b8FVsyqF9AfA2UNbP94F3gUn1DHgK8CqwB+gFfgHuxIlE5LcA/a5+YEmM7HfAC0n+J+dAoEtE3hGRHhF5ulZ7dQfQBZyJzZAB4CDwFrAaWOyYWiuAb6pMrUnATqCin+8B24GgCAIzgA+Ax+psGPgIaK8ib9E8ix14Hrikjh4Dh4AFE+hYNEf6BboJF+8A0O2pF8XZ+MhF+p4AR4Di1hmwjjAl9gJPpdC1xN9I6L8KbMgvYrejVuBPdXgCSJXpaIZDI9AC/KwkzqQl0TQADkSGfmaj48kEYKVmmEeYTe+/CcJNa3+jY8kMoFNJlIE5jY7HB9VOlTu0/TQIgvv1CiZXaKayu/DyFHpz7c7m6OsjAfkyCJ1uVvsXU+rtcgWGOQj+XTQR176wSdtvPYKfJSJtIrJNwukYxxIRmS4it4MgKOzG5yLSqe0PHvrDHjLLtL3mFVFGuBa7vYnl5dgSGczJnhMuIgu1vTWRchBDFTFLZCNwQzfYG8BR4NksQXuB8F4wNYOua7F/nbDOK8DrKX2cB877COZNZDcmnX+BuQVOx9xtTqt4GXjG036L6jzwER5S4VIeRPT7DBz37giZTzztz1f5v3yEr6pwh1f0Y3VT7QvAWlW57im/SuWvxPtci91mlzbfgGpAv7YLE6VC2JjGZUAXkT5tX0kZ1DhgKoUkZKcXtf3D0+R6bS/5ON+kzlMdUVR3zNTC3O8BPqsib+tiRzztX1b5jT7CmQ6Nqhsn8jJm3wBTp1oDzNK1YUmUgaUetttVfoiEGkBc6agqvV8LEf22leqHxjKe+wiwP83oWaUuzMNLhRQPLy4i+r0VOAb8htmnrmNqWBOOhOqXMBXNUWCVNxFVtkN/IJViAcDUkwF6syjb4sMI0DmxRjHAFMNtEeSlrEbsvOzH3D3qCmA2MKgx7KvF0DTgoho6SR0LdMBkwvR9gVqrkYwtmX5eDzJK4rj6vA08l5fhbsLHl1NFTjOdTnYkKsCavB10R0ZmgAKqj7qwByMjkS+JiKNW4Cd1NAJ8SIbjvsNuSVOsfc26kNt0SnA6DfP0Zp1W9P+KDLbaNTMOq61HwL6aF3bKIDowT8ijhOjTUerBlF3nAVP1V9JvPSpzOaI3quvC+Q5ZL0KdmOPGHdJjCPOemO7Y4UBuz76YO/46EXlNRDrEXIIWichsFRkWkd/FlJn6xBQAfwyCYCSvGP5HM+EfxLY/VkoBSKsAAAAASUVORK5CYII=") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_VOLUME_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEEUlEQVRoge2ZXYhVVRTH98ydDyc/0L4Gckb0QTJ1oIdiYGrExGoQTHzyRXwIkijpIYkwYaBoKGiCFBXywQfLj6hkihCUXoIgQvxAZdJQakxqxnEcSLEcm/n1cP7Hu++9+5x79pk7c0aY9XK4+7/W2ut3Pu5Zex9jpm3a7h8DcsA7wO/AMLAHqM26Li8D6oAeSq0r69oSmyC+UeHXgNVAq35fybq+ROaAaNF4tcZGPfMtnJhK4ye1IQaA5UU6AB75XlfIcWBJ5St2TxoLIR9fkKeVC2AE6ASqK1t54YT2gz0Q3k4OPy8QxcwFdgB3FX4UmFeZygsnKr4Sy2J8vUGs2BXW1TkDPJi+6tLkNkR/HIT8U4Movgk4qzQ/A3PS5rKTFkMsTRATC6Kc3wOHgOYIn0bgglL1AFWTCqG4ciCzgety+xvYEOHXDAzKb8ukQii27K0FLAC+lesYsC3Cb630f4BF44H4C3jCMz7xMwK8BYzGnXVgn/TP7MEGgr+5G5Q3bwhfEPm/orP+H9Dm0JuA2wJuCQd3JgBIDZEGRDEfKewSUO/QP5G+KxwY0sALEQmvSH8mDYRyFIAAM4H3gU1AQ0RMHXBeoW849OXSrgN19yYBZkQkHJOeukVwgDxnzdsHrIyIWyefP1zzAyeldyQB8b4tEoBUAy8Dv0gaAV50xFUBl+WzyqF/IO29TECs8RzwqeRrwEMOny7p3Q5tvbRjmYJIqwJ+lEunQ++Q9oNDWyStL3MQ6WvkcsqhNUm76tBmSbs5VUAelcsth9Yg7XZE7L8wkYuVSbapAvKUjhcd2sM63igWgFnGmHpjzK3MQQja8e362eNwCZfOlxzaIzoOZQoC5Iwxe40xbcaYQWPMbofbszqecGhP6nghyxfiZvILpTvA8444+4VY8vYHPpT27lRoUX4D2iPiwhalzzU/cEp6h900dkQkC5vGFRUEaSBoGjfi6GzlYzeNJesSoEXaIGoad5DM7u0ejhckYUy3wn51wVp17wwHZhD09kOUt1QwviDkF1Z3gVaH3kyw1B3FsSEYl9i5r+sRnxgE2EqwMgTYHOETLnX3+9QRBtu7il4wSUCA+Vb+UeDNCL+XyG8+pNvoFswRX5hyIATtfL/choH1EX4LyG8HvZYKwkpWC3ztA5PwinwOHAAei9AbgYtKdSRt/cVJa4GvksL4PuyO+GbgnNL8BMxOm8uVvBb4MgnMeECAleQ3sU8zQTvyOd0SsTBpQCj9rPAdMLcylbsnrAG+iIPxBaHwU8IdYDvj2bT2mLgGOBwFkwKkUyHHgMcrX3H85DUEnwUKYIAHwjPrmWvxxFVbvoAccNCCaSe/sdCbWWFpTDD7KbW3s67N2wgWRK8CvcCfwMdATdZ1Tdu0pbD/AWi0WyEV/M6mAAAAAElFTkSuQmCC") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_VOLUME_LOW_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAACNklEQVRoge2YPUtcQRSGj+vnmi5C/oOoXcBClAQSDfkNYmER/AcBA6m0FNRCkHT57BLzH1JbarAx2UKJoKksFOJjscfrdXfWnXsmuzML+zaXmXPmvOfhXuYOI9JVV50joBdYBn4Bf4EtoD92X4UEDAA71Gs1dm/eUojv2vgJ8AyY1HEldn9eckBM6HxJ5/7F7rGpaj6nDCIXByBWf15qBqE5aYPUQPxxQWheuiAOiPF7ctMEKQKh+emBFIXQNWmBWCB0XTogVghdmwaIA2Ks4PrWgwBlYAM4o7mOgVGDR1tANj0AzBDq0RaQU/WZbRCvaHwqwOMOCPAAWAEWgLK1rtMEGGoQv9J4KdQjN36a8/0NPLHWrjO5ByT4s3CAlIBFYF9Dl8BciEcUkNx8L7Ct4RNgJNgkBojGeoAfmvI22CQWiMZfaspusElkkEeacm71MO9ELdKVdWEqII/1eWAtEB0E6BGRNzrcCSkUe/t9l9t+HwabtBOE6g/xFfBTQxfA8xCPFI4oh8C0tXbe5ObQ+KJB/ObQOBPgUQtSpnponAcGrXVrTTbwk/POygLSEgFDwHruzfx3mLaAeDYyAHyzwiQDIiIC9ANfLTBJgYjYYZIDEcl+Yl+KwCQJIpLBfPaFSRZEJIP55AOTNIhIBvOxGUzyICJ+MB0BIpLBfGgE0zEgIiJAn2s3A4Z17iJ2j95y7GbT3F4s7MXur5AU5j31eh27t8Kiele1BOwBR8Aa0Be7r666MugagV1qiCmz2jgAAAAASUVORK5CYII=") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_MUTE_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAACKklEQVRoge3ZzU4UQRSG4a8RCHgBSrwDg65ZGE1IjDFeiXdg4t6libjwAgR1589VuDEEjGF0Z1j4l6hbXOjr5tB2muqeqhqm64yZbzVTp5o6z1R3MQFpnnlmJ8AZ4C7wEfgJPAKWSveVFGAZeMnJ3CvdW3QM8coa/wZcBzbs/WHp/qISQFy28QUb+126x7Fp3U41olEHoFR/URmHsDm+IS3E1xDC5vmFBBCXeub6hKQgbL4/SCrCrvEFyUHYdX4guQi71gckgFhPvH76EGAV2AJ+MD6fgYsZawwCeRgByEbYGoNAvts6Nzrqh1a/MsEag0COs9JR/2P1hUnXCIzvAm+BtZ5r14A3wOuoRXogE3+aPZB9K41CGEOMbM4uUHmFnAPeWfkDcKFRO9+ovW/W3EG6MMkIDxCrN2+hUet15/MTXKQkxOY0dyZ+JyzZJ9EU0n6Qux/sUDzsyH9xaxF4sOk5zVxCQohGLQ1TGJLyC3Gvb42Yhx37odM4GI4k7UnarKrqS7toY5uS9m1ud/j3pfFmR/34S+O13G5PY1djFtkiLsG/WUWuMQhkBXjQ2JlTxwwCiWxkGXiRi3EDkSRgCXieg3EFkfIx7iBS/d+oZykYlxCpxjyNxbiFSDXmSQzGNUSqMTvjMO4hUhxmJiBSjdnuwswMRJKAxdBpBpy1sV+le4xO4DS7Ctyy9wel+0uKYR5zMndK95YcoAJuAwfAJ+A+sFi6r3nmychfhFcHzJwBUtEAAAAASUVORK5CYII=") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_CAPTION_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAB1klEQVRoge2ZQU7CQBSG/0eMRzCEE7jUrWiMF/EaujNuRI/hRTRGMIaNGxP1ABhP4efCqU6GTgcs0oH0W5U3703/R/++tCC1tLRUAmwCV8A7q8cEGACbBlxKOmn6C63JQK4rgD1/BRgB92FFTnGgX1yZjqSeJJnZQ1D7KYlww5ziZjZyhz0DcEErKc6eQn8nCGZjm3njnSAnG9vMG19PawUJ2dimKl4QbUQZ2SYRl7Su1srNNu3UKinInnZqZRiXtK7Wys027dQqKcieQv9GRcKNpKOlKZqNoZkdlC1Er0gRz42YzugViRU2ReqLnWlq5UadqZUb0zrdzylT4sviwJhfHktq/m09pTN5s/vxcKPUgFjkekpn1bPWSjFvI2PveMoaS1iP43vPnwYxTzZFSufaTK25bvYmqX2z8788AV3vXKNYYkpnVSPDVPEC2JF06zWzV5UsKf7UMWvHiwbYAp7d6d+A3l+0/NT4xSz5zQ7oAi9OwouvZdZ9ippG3xDN7EPf7zyvkrZr7d+UtQINvs3qWytIaMJmT8BdRHBsnx9rvbtAP8hZus3MbNfMDssaKdsH2HeHEwMGkk4jxavCxYakM/fhWO4f3hViIula0nnTQlpacucLx/BHx+PecukAAAAASUVORK5CYII=") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_FULLSCREEN_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAAkklEQVRoge3ZOwqAMBCE4UXsvP9pLCwUxVONlYXgaxNJFvm/VszOaBMSMwD4BfmNCTNm75CrtZq8usdchd5xTnj4AqWV/CNVUSQaikRDkWgoEk1782yyEluI93oz62qHAAAAwB9JWiUttXPskvNwQFcJRaKhSDQUiYYi0TwWcdxTDt7hksbcS9DXRTy5PlwLAM5t/Iby+IVFZREAAAAASUVORK5CYII=") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_OK_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAC9UlEQVRoge3ZT6iUVRjH8TOJlNc/cS9iWRlkBeXq6iK0CMpllNCiaOHKRS4KqmUS7lpICgoF0UZIqJVtghalUbSICAqFtOgPBXYjK/9wbxilflrMMzRc575zpvfc982YHwyHec/D7/k+c86c97znTWmsscZqXFiG/fgVM3gVk21zjSQswbuu1NeYapsvW3gxwH/ENO7Gsbi2t22+LGErLuEvbO67fl8U8m2bfFnC6hgF2DWvb0Vcv9AWX5bQwdsBexTXzOufjr6v2mLMEp4J0NO4aUD/vuh/uQ2+LGEj/sBlPDygfwK/RSGb2mAcKizHyYDcv0DMk9H/UdN82cLBgDyO6xaI6S29jzfNlyU8FoBzuGuBmAf67ilLm2YcKqzH+YDcURF3OGJeaJIvS1iKTwLwzYq423ARF7CmScYsYU8U8YOKjSAORNxrTfJlKeZ8bwuypSJuVUy9y9jQJONQYQ1+il/5+SGxvRvkIM3hTMVnBh9jF1aULqKDdwLkiHlbkAHx2/FnRTG5OoEbShbyVBifxtoaPssxOeSzDtvwReQ8VKqIKZwL00eLmOblvSNyni9l+FwYvlfEMD/vZOSdy4mvnOuhh6Jtehm9JdpTRdzwc/wyV2zPF1O4vzci2FnC8GIYLinAN0rea/FKX/56m87eOliI79/kfzoQPq1r1HYhUzl/+pw/e9u6M9qztVzaHBHdk5nPAuFAXbM2Czke6b8z5Mj1vz61vo/25pTSwKfQbLU8Ih28FAjv1zVre9Va/X9ZtW6M9kxVUE4hsymlhJV1iUYVbk0pvRFfj9Q1+zKGdro22Wh5t+P3vlWrcq+XMyIfRvtIfbyRtDWlNJFS+jyltLnT6czUctN950H36XBVCcLMvPdE3pMlTY+G6WFDntcL5pyInOXeqeB23Reb8BauL2a+cM7ekew3pY3v7SvmF+zGJoWPbLAWO/1zJPtsSf9ekvW6x0FN6XWLOZXxoO678xOYLQw/iw/wxKIVMNZYY129+hvtFueCjOcEIQAAAABJRU5ErkJggg==") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_RELOAD_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABrElEQVRIie2WyUoDQRCG/zl7jUYxBiKJ+CJehOCCC1EQj3oR8RV8ChGXi6jB9SL4KpqbElxQz4kmn4eUZAwTZjJpc7KgL1PL19XTVV3Sv/RIvKiGQFrSrKQJSeOSkqYqSypJupF07Xneg5OdAWngEKgSLlVgFxjpFjoHfPiCHgEFYBTos5W1b8e+zX0A+bjQIaBmgc7tqMN8MsCZ+dSBtThgD9gGVmL4bhr4C5juGN6NAFuW+RvQ32v4tcH3wwzngXmH4LRduErbrIF+4MWWs6PxXbbNdgZFXz0WHYILP5URpFwIaAZOjhzIWbz7VkUCeA4AvwLJNvGiAIsBMX/kNMzgqgtwAnhqk9BAq3HJlLm4wJZ4U5F+IXBhykUXYIsZfmlpdhuXtzq8TIEBmgWfcggPb0zAgWV94QocSSzrd4MHd5s/hM/QeNLqwEYM/1UaT2rk0crvvG5gaPTbTASfDHBlPjVgsGOwBcr7jr1KY7xZAsb4PfosAyfAp9m+AXOxoD54Ctgh2rBXAfaiVEQn421K0pSkSUlZScOmKku6k3Qr6dLzvMfO0/uXP5RvHD/lZJn8ZpoAAAAASUVORK5CYII=") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n.${e.CSS_CLS_ICON_CLOSE_BG} {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAkUlEQVRIie2VwQ2AIBAE1R40WiKWKw/LGR+SaIzi7SE/90XC7Y7CAU3zSxUQgMHhG4DwVjSzKyqQFB6Td84V9sCSCldgMoRfPaNqeITI4QrEHW6BFIfnIJ+FnyDnDomXsdzOlj+Rvrwr4LYF3kNVl+huQz2H0RyemdMgllZ0Q5Q+lyGeQyRBqH1dp+J6D86vO23cMwceYU71pwAAAABJRU5ErkJggg==") !important;\n    background-repeat: no-repeat !important;\n    background-position: center !important;\n    background-size: 17.5px !important;\n}\n\n.${e.CSS_CLS_HIDDEN} {\n    display: none !important;\n}\n\n.${e.CSS_CLS_INVISIBLE} {\n    visibility: hidden !important;\n}\n\n.${e.CSS_CLS_CHAPTER_LINK} {\n    position: absolute;\n    top: 50%;\n    width: 4.5px;\n    height: 4.5px;\n    border-radius: 0px;\n    background: var(--color-royal-blue);\n    -moz-transform: translate(0, -50%);\n    -ms-transform: translate(0, -50%);\n    -o-transform: translate(0, -50%);\n    -webkit-transform: translate(0, -50%);\n    transform: translate(0, -50%);\n    -webkit-transition: width .25s ease-in, height .25s ease-in, border-radius 0.25s ease-in;\n    -moz-transition: width .25s ease-in, height .25s ease-in, border-radius 0.25s ease-in;\n    -o-transition: width .25s ease-in, height .25s ease-in, border-radius 0.25s ease-in;\n    -ms-transition: width .25s ease-in, height .25s ease-in, border-radius 0.25s ease-in;\n    transition: width .25s ease-in, height .25s ease-in, border-radius 0.25s ease-in;\n}\n.${e.CSS_CLS_VISUAL_SHOWING} #${e.CSS_CONTROL_TIME_PER_DURATION} {\n    text-decoration-line: line-through;\n    text-decoration-color: var(--color-royal-blue);\n}\n.${e.CSS_CLS_VISUAL_SHOWING} #${e.CSS_CONTROL_TIME_PER_DURATION}::before {\n    content: " ";\n    color: var(--color-royal-blue);\n}\n.${e.CSS_CLS_VISUAL_SHOWING} #${e.CSS_CONTROL_TIME_PER_DURATION}::after {\n    content: " ";\n    color: var(--color-royal-blue);\n}\n\n.${e.CSS_CLS_CONTROL_SHOW} #${e.CSS_CONTROL_CONTAINER} {\n    -moz-transform: translate(0, 0);\n    -ms-transform: translate(0, 0);\n    -o-transform: translate(0, 0);\n    -webkit-transform: translate(0, 0);\n    transform: translate(0, 0);\n    -webkit-transition: transform .25s ease-in;\n    -moz-transition: transform .25s ease-in;\n    -o-transition: transform .25s ease-in;\n    -ms-transition: transform .25s ease-in;\n    transition: transform .25s ease-in;\n}\n.${e.CSS_CLS_CONTROL_SHOW} #${e.CSS_VISUAL_CONTAINER} {\n    height: calc(100% - var(--dimension-control-container-height));\n    -webkit-transition: height .25s ease-in;\n    -moz-transition: height .25s ease-in;\n    -o-transition: height .25s ease-in;\n    -ms-transition: height .25s ease-in;\n    transition: height .25s ease-in;\n}\n@media (any-hover: hover) {\n    #${e.CSS_ENGINE_CONTAINER}:hover #${e.CSS_CONTROL_CONTAINER} {\n        -moz-transform: translate(0, 0);\n        -ms-transform: translate(0, 0);\n        -o-transform: translate(0, 0);\n        -webkit-transform: translate(0, 0);\n        transform: translate(0, 0);\n        -webkit-transition: transform .25s ease-in;\n        -moz-transition: transform .25s ease-in;\n        -o-transition: transform .25s ease-in;\n        -ms-transition: transform .25s ease-in;\n        transition: transform .25s ease-in;\n    }\n    #${e.CSS_ENGINE_CONTAINER}:hover #${e.CSS_VISUAL_CONTAINER} {\n        height: calc(100% - var(--dimension-control-container-height));\n        -webkit-transition: height .25s ease-in;\n        -moz-transition: height .25s ease-in;\n        -o-transition: height .25s ease-in;\n        -ms-transition: height .25s ease-in;\n        transition: height .25s ease-in;\n    }\n}\n@media (any-hover: none) {\n    #${e.CSS_CONTROL_VOLUME_GROUP} {\n        display: none;\n    }\n}\n\n@keyframes ive-busy-spinner {\n    to {-webkit-transform: rotate(360deg);}\n}\n`;class k extends U{constructor({}={}){super(),this.styleElement=void 0,this.externalStyleElement=void 0,this.externalScriptElement=void 0}connectedCallback(){this.onEngineReady(()=>{this.styleElement=this._addStyleElement(),this.externalStyleElement=this._addExternalStyleElement(),this.externalScriptElement=this._addExternalScriptElement();const e=this._addEngineChildren();this.root.append(this.styleElement,this.externalStyleElement,this.externalScriptElement,e)})}attributeChangedCallback(e,t,n){let r,i;if("data"!==e)if("run"!==e){if("conf"===e)return this.config=this.configs[this.conf],this._addVideoSrc(),void this._addAudioSrc();if(this.isConnected&&this.configs&&this.root.childNodes.length)switch(e){case"css":r=this.externalStyleElement,i=this._addExternalStyleElement(),this.root.replaceChild(i,r),this.externalStyleElement=i;break;case"script":r=this.externalScriptElement,i=this._addExternalScriptElement(),this.root.replaceChild(i,r),this.externalScriptElement=i}}else this.runner=this.runners[this.run];else this.onDataChange(()=>{this._resetEngineChildren()})}disconnectedCallback(){this.onEngineDestroyed(()=>{console.info("Engine element removed from page.")})}adoptedCallback(){console.info("Engine element moved to new document.")}_addStyleElement(){const e=document.createElement("style");return e.textContent=M,e}_addExternalStyleElement(){const e=document.createElement("style");return this.css&&(e.textContent=`@import url('${this.css}');`),e}_addExternalScriptElement(){const e=document.createElement("script");return this.script&&(e.src=this.script,e.async=!0),e}_addEngineChildren(){const t=document.createElement("figure");return t.id=e.CSS_ENGINE_CONTAINER,t.append(this._addVideoElement(),this._addAudioElement(),this._addVisualElement(),this._addControlElement(),this._addLoaderElement()),t}_resetEngineChildren(){const t=this.root.getElementById(e.CSS_ENGINE_CONTAINER);try{t.replaceChildren(this._addVideoElement(),this._addAudioElement(),this._addVisualElement(),this._addControlElement(),this._addLoaderElement())}catch(e){console.log(`Compatibility:\nreplaceChildren not supported by browser\n\n${e}`)}}}function D(t){return new Promise((n,r)=>{customElements.define("interactive-video-engine",k);const i=document.getElementById(t);i?i.addEventListener(e.EVENT_ENGINE_READY,()=>{n(i)}):r("Missing:\nNo element found in DOM with this ID")})}export{D as on};
//# sourceMappingURL=index.modern.js.map
